namespace = aegons_conquest

##############################
# Aegon's Conquest Beginning #
##############################
aegons_conquest.0001 = {
	hidden = yes
	# trigger = { NOT = { has_global_variable = aegons_conquest_happened } }

	immediate = {
		# set_global_variable = aegons_conquest_happened
		# title:c_dragonstone.holder = { save_scope_as = aegons_title }
		# scope:aegons_title = {
			# create_title_and_vassal_change = {
				# type = created
				# save_scope_as = e_change
			# }
			# title:e_the_iron_throne = {
				# change_title_holder = {
					# holder = scope:aegons_title
					# change = scope:e_change
				# }
			# }
			# resolve_title_and_vassal_change = scope:e_change
			
			# create_title_and_vassal_change = {
				# type = created
				# save_scope_as = k_change
			# }
			# title:k_the_crownlands = {
				# change_title_holder = {
					# holder = scope:aegons_title
					# change = scope:k_change
				# }
				
			# }
			# resolve_title_and_vassal_change = scope:k_change

			# create_title_and_vassal_change = {
				# type = created
				# save_scope_as = d_change
			# }
			# title:d_kings_landing = {
				# change_title_holder = {
					# holder = scope:aegons_title
					# change = scope:d_change
				# }
			# }
			# resolve_title_and_vassal_change = scope:d_change

			# create_title_and_vassal_change = {
				# type = created
				# save_scope_as = c_change
			# }
			# title:c_kings_landing = {
				# change_title_holder = {
					# holder = scope:aegons_title
					# change = scope:c_change
				# }
			# }
			# resolve_title_and_vassal_change = scope:c_change
		# }

		# create_title_and_vassal_change = {
			# type = swear_fealty
			# save_scope_as = north_change
		# }
		# title:e_the_north.holder = {
			# save_scope_as = torrhen
			# change_liege = {
				# liege = title:e_the_iron_throne.holder
				# change = scope:north_change
			# }
			# resolve_title_and_vassal_change = scope:north_change
		# }

		title:e_the_iron_throne.holder = {
			start_war = {
				cb = vassalization_cb
				target = title:e_the_riverlands.holder
				target_title = title:e_the_riverlands
			}
			start_war = {
				cb = vassalization_cb
				target = title:e_the_reach.holder
				target_title = title:e_the_reach
			}
			start_war = {
				cb = vassalization_cb
				target = title:e_the_vale.holder
				target_title = title:e_the_vale
			}
			start_war = {
				cb = vassalization_cb
				target = title:e_dorne.holder
				target_title = title:e_dorne
			}
			start_war = {
				cb = vassalization_cb
				target = title:e_the_westerlands.holder
				target_title = title:e_the_westerlands
			}
			start_war = {
				cb = vassalization_cb
				target = title:e_the_north.holder
				target_title = title:e_the_north
			}
		}
	}
}
