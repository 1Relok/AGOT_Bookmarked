# Called from code after history generation
# Empty scope
on_game_start = {
	on_actions = {
		agot_on_game_start
		agot_house_dna
		agot_set_legacies
		agot_vassal_contracts
		agot_crown_authority
		agot_house_feuds
		# Moonclans yeet
		# agot_province_neighbors
		agot_ruins
		agot_barony_ruins
		agot_artifacts_sell
	}
}

agot_on_game_start = {
	effect = {

		##AGOT IS LOADED## - FOR OTHER MODS TO HOOK WITH
		set_global_variable = {
			name = AGOT_is_loaded
			value = yes
		}

		##### General setup start #####

		### Unlock battlements innovation as a workaround for auto-upgraded holdings
		every_culture_global = {
			if = {
				limit = {
					agot_is_wildling_culture = no
				}
				add_innovation = innovation_battlements
			}
			if = {
				limit = {
					agot_is_wildling_culture = no
					NOR = {
						this = culture:andalosi
						this = culture:crannogman
						this = culture:skagosi
						this = culture:braavosi
						this = culture:norvoshi
						this = culture:pentoshi
						this = culture:hartalari
						this = culture:myrish
						this = culture:tyroshi
						this = culture:volantene
					}
					NAND = {
						this = culture:bearman
						game_start_date < 8000.1.1
					}
					NAND = {
						this = culture:krakenman
						game_start_date < 8000.1.1
					}
					NAND = {
						this = culture:wolfswood_clansman
						game_start_date < 8000.1.1
					}
					NAND = {
						this = culture:hill_clansman
						game_start_date < 8100.1.1
					}
					NAND = {
						this = culture:sisterman
						game_start_date < 8175.1.1
					}
					NAND = {
						this = culture:fingerman
						game_start_date < 8150.1.1
					}
				}
				add_innovation = innovation_hoardings
			}
			if = {
				limit = {
					agot_is_wildling_culture = no
					NOR = {
						this = culture:andalosi
						this = culture:crannogman
						this = culture:skagosi
						this = culture:braavosi
						this = culture:norvoshi
						this = culture:pentoshi
						this = culture:hartalari
						this = culture:myrish
						this = culture:tyroshi
						this = culture:volantene

						this = culture:crownlander
						this = culture:fingerman
						this = culture:sisterman
						this = culture:clawman
						this = culture:barrowman
						this = culture:bearman
						this = culture:harborman
						this = culture:krakenman
						this = culture:hill_clansman
						this = culture:northman
						this = culture:wolfswood_clansman
						this = culture:ironborn
					}
					NAND = {
						this = culture:stormlander
						game_start_date < 8260.1.1
					}
					NAND = {
						this = culture:marcher
						game_start_date < 8270.1.1
					}
					NAND = {
						this = culture:vineman
						game_start_date < 8270.1.1
					}
					NAND = {
						this = culture:honeywiner
						game_start_date < 8270.1.1
					}
					NAND = {
						this = culture:reachman
						game_start_date < 8270.1.1
					}
					NAND = {
						this = culture:shieldman
						game_start_date < 8270.1.1
					}
					NAND = {
						this = culture:riverlander
						game_start_date < 8270.1.1
					}
					NAND = {
						this = culture:valeman
						game_start_date < 8270.1.1
					}
					NAND = {
						this = culture:moonman
						game_start_date < 8270.1.1
					}
					NAND = {
						this = culture:high_valyrian
						game_start_date < 8270.1.1
					}
					NAND = {
						this = culture:stone_dornish
						game_start_date < 8280.1.1
					}
				}
				add_innovation = innovation_machicolations
			}
		}

		### Culture related setup
		# Save divergent valyrian cultures for overriding promoting culture loc, do the same for iron bois
		culture:high_valyrian = {
			if = {
				limit = { has_game_rule = agot_hv_conversion_offshoots }
				set_variable = {
					name = wv_culture
					value = culture:westerosi_valyrian
				}
				set_variable = {
					name = ev_culture
					value = culture:essosi_valyrian
				}
			}
		}
		culture:ironborn = {
			set_variable = {
				name = greenborn_culture
				value = culture:greenborn
			}
		}
		culture:greenborn = {
			set_variable = {
				name = ironborn_culture
				value = culture:ironborn
			}
		}

		### Buildings set up
		# This is done to avoid errors, if the error 'No room left for adding a building' happens, add the province and the building here

		province:77 = {
			agot_add_building_if_possible = { BUILDING = barracks_04 }
			agot_add_building_if_possible = { BUILDING = stables_02 }
			agot_add_building_if_possible = { BUILDING = smiths_06 }
		}
		province:78 = {
			agot_add_building_if_possible = { BUILDING = agot_steppe_farms_04 }
		}
		province:247 = {
			agot_add_building_if_possible = { BUILDING = barracks_03 }
			agot_add_building_if_possible = { BUILDING = hunting_grounds_02 }
			agot_add_building_if_possible = { BUILDING = logging_camps_02 }
		}
		province:333 = {
			agot_add_building_if_possible = { BUILDING = barracks_04 }
			agot_add_building_if_possible = { BUILDING = smiths_04 }
			agot_add_building_if_possible = { BUILDING = hunting_grounds_04 }
		}
		province:423 = {
			agot_add_building_if_possible = { BUILDING = barracks_04 }
			agot_add_building_if_possible = { BUILDING = workshops_04 }
			agot_add_building_if_possible = { BUILDING = smiths_04 }
		}
		province:424 = {
			agot_add_building_if_possible = { BUILDING = guild_halls_05 }
			agot_add_building_if_possible = { BUILDING = agot_urban_farms_03 }
		}
		province:426 = {
			agot_add_building_if_possible = { BUILDING = workshops_02 }
		}
		province:431 = {
			agot_add_building_if_possible = { BUILDING = guild_halls_03 }
			agot_add_building_if_possible = { BUILDING = peat_quarries_01 }
		}
		province:490 = {
			agot_add_building_if_possible = { BUILDING = outposts_04 }
			agot_add_building_if_possible = { BUILDING = peat_quarries_03 }
			agot_add_building_if_possible = { BUILDING = common_tradeport_01 }
		}
		province:617 = {
			agot_add_building_if_possible = { BUILDING = hill_farms_02 }
			agot_add_building_if_possible = { BUILDING = hunting_grounds_02 }
			agot_add_building_if_possible = { BUILDING = common_tradeport_01 }
		}
		province:664 = {
			agot_add_building_if_possible = { BUILDING = smiths_01 }
			agot_add_building_if_possible = { BUILDING = hill_farms_01 }
			agot_add_building_if_possible = { BUILDING = hunting_grounds_01 }
		}
		province:886 = {
			agot_add_building_if_possible = { BUILDING = outposts_02 }
			agot_add_building_if_possible = { BUILDING = agot_steppe_farms_02 }
		}
		province:940 = {
			agot_add_building_if_possible = { BUILDING = hunting_grounds_02 }
			agot_add_building_if_possible = { BUILDING = logging_camps_02 }
		}
		province:1121 = {
			agot_add_building_if_possible = { BUILDING = smiths_02 }
			agot_add_building_if_possible = { BUILDING = hill_farms_02 }
			agot_add_building_if_possible = { BUILDING = hunting_grounds_02 }
		}
		province:1122 = {
			agot_add_building_if_possible = { BUILDING = hill_farms_04 }
			agot_add_building_if_possible = { BUILDING = pastures_03 }
		}
		province:1310 = {
			agot_add_building_if_possible = { BUILDING = hunting_grounds_02 }
			agot_add_building_if_possible = { BUILDING = godswood_06 }
		}
		province:1636 = {
			agot_add_building_if_possible = { BUILDING = hunting_grounds_02 }
			agot_add_building_if_possible = { BUILDING = logging_camps_02 }
		}
		province:1658 = {
			agot_add_building_if_possible = { BUILDING = watermills_05 }
			agot_add_building_if_possible = { BUILDING = military_camps_03 }
			agot_add_building_if_possible = { BUILDING = regimental_grounds_04 }
		}
		province:1686 = {
			agot_add_building_if_possible = { BUILDING = smiths_04 }
			agot_add_building_if_possible = { BUILDING = workshops_04 }
			agot_add_building_if_possible = { BUILDING = hunting_grounds_04 }
		}
		province:1718 = {
			agot_add_building_if_possible = { BUILDING = logging_camps_01 }
			agot_add_building_if_possible = { BUILDING = watermills_01 }
		}
		province:1723 = {
			agot_add_building_if_possible = { BUILDING = logging_camps_01 }
			agot_add_building_if_possible = { BUILDING = watermills_01 }
		}
		province:1725 = {
			agot_add_building_if_possible = { BUILDING = logging_camps_01 }
			agot_add_building_if_possible = { BUILDING = watermills_01 }
		}
		province:1728 = {
			agot_add_building_if_possible = { BUILDING = farm_estates_01 }
			agot_add_building_if_possible = { BUILDING = windmills_01 }
			agot_add_building_if_possible = { BUILDING = watermills_01 }
		}
		province:1729 = {
			agot_add_building_if_possible = { BUILDING = stables_04 }
			agot_add_building_if_possible = { BUILDING = smiths_04 }
			agot_add_building_if_possible = { BUILDING = common_tradeport_04 }
		}
		province:1730 = {
			agot_add_building_if_possible = { BUILDING = cereal_fields_04 }
			agot_add_building_if_possible = { BUILDING = pastures_04 }
			agot_add_building_if_possible = { BUILDING = common_tradeport_04 }
		}
		province:1764 = {
			agot_add_building_if_possible = { BUILDING = cereal_fields_04 }
			agot_add_building_if_possible = { BUILDING = common_tradeport_04 }
			agot_add_building_if_possible = { BUILDING = watermills_01 }
		}
		province:1836 = {
			agot_add_building_if_possible = { BUILDING = hunting_grounds_03 }
			agot_add_building_if_possible = { BUILDING = military_camps_03 }
			agot_add_building_if_possible = { BUILDING = peat_quarries_03 }
		}
		province:1874 = {
			agot_add_building_if_possible = { BUILDING = farm_estates_02 }
			agot_add_building_if_possible = { BUILDING = cereal_fields_02 }
			agot_add_building_if_possible = { BUILDING = regimental_grounds_01 }
		}
		province:1800 = {
			agot_add_building_if_possible = { BUILDING = farm_estates_01 }
			agot_add_building_if_possible = { BUILDING = watermills_01 }
		}
		province:1856 = {
			agot_add_building_if_possible = { BUILDING = cereal_fields_03 }
			agot_add_building_if_possible = { BUILDING = pastures_03 }
			agot_add_building_if_possible = { BUILDING = watermills_03 }
		}
		province:1886 = {
			agot_add_building_if_possible = { BUILDING = cereal_fields_02 }
			agot_add_building_if_possible = { BUILDING = watermills_02 }
			agot_add_building_if_possible = { BUILDING = common_tradeport_02 }
		}
		province:1887 = {
			agot_add_building_if_possible = { BUILDING = cereal_fields_02 }
			agot_add_building_if_possible = { BUILDING = watermills_02 }
			agot_add_building_if_possible = { BUILDING = common_tradeport_02 }
		}
		province:1900 = {
			agot_add_building_if_possible = { BUILDING = cereal_fields_01 }
			agot_add_building_if_possible = { BUILDING = watermills_01 }
		}
		province:1910 = {
			agot_add_building_if_possible = { BUILDING = smiths_04 }
			agot_add_building_if_possible = { BUILDING = pastures_04 }
			agot_add_building_if_possible = { BUILDING = cereal_fields_04 }
		}
		province:1911 = {
			agot_add_building_if_possible = { BUILDING = common_tradeport_03 }
			agot_add_building_if_possible = { BUILDING = watermills_03 }
		}
		province:1913 = {
			agot_add_building_if_possible = { BUILDING = common_tradeport_03 }
			agot_add_building_if_possible = { BUILDING = watermills_03 }
		}
		province:1934 = {
			agot_add_building_if_possible = { BUILDING = barracks_06 }
			agot_add_building_if_possible = { BUILDING = stables_06 }
			agot_add_building_if_possible = { BUILDING = smiths_06 }
		}
		province:1944 = {
			agot_add_building_if_possible = { BUILDING = cereal_fields_01 }
			agot_add_building_if_possible = { BUILDING = watermills_01 }
		}
		province:1945 = {
			agot_add_building_if_possible = { BUILDING = cereal_fields_01 }
			agot_add_building_if_possible = { BUILDING = watermills_01 }
		}
		province:1947 = {
			agot_add_building_if_possible = { BUILDING = cereal_fields_01 }
			agot_add_building_if_possible = { BUILDING = watermills_01 }
		}
		province:1968 = {
			agot_add_building_if_possible = { BUILDING = cereal_fields_01 }
			agot_add_building_if_possible = { BUILDING = watermills_01 }
		}
		province:1971 = {
			agot_add_building_if_possible = { BUILDING = cereal_fields_01 }
			agot_add_building_if_possible = { BUILDING = watermills_01 }
		}
		province:1972 = {
			agot_add_building_if_possible = { BUILDING = smiths_04 }
			agot_add_building_if_possible = { BUILDING = pastures_04 }
			agot_add_building_if_possible = { BUILDING = cereal_fields_04 }
		}
		province:2002 = {
			agot_add_building_if_possible = { BUILDING = logging_camps_04 }
			agot_add_building_if_possible = { BUILDING = smiths_04 }
			agot_add_building_if_possible = { BUILDING = stables_04 }
		}
		province:2031 = {
			agot_add_building_if_possible = { BUILDING = smiths_03 }
			agot_add_building_if_possible = { BUILDING = pastures_03 }
			agot_add_building_if_possible = { BUILDING = cereal_fields_03 }
		}
		province:2032 = {
			agot_add_building_if_possible = { BUILDING = guild_halls_03 }
			agot_add_building_if_possible = { BUILDING = pastures_03 }
			agot_add_building_if_possible = { BUILDING = cereal_fields_03 }
		}
		province:2058 = {
			agot_add_building_if_possible = { BUILDING = smiths_04 }
			agot_add_building_if_possible = { BUILDING = pastures_04 }
			agot_add_building_if_possible = { BUILDING = cereal_fields_04 }
		}
		province:2061 = {
			agot_add_building_if_possible = { BUILDING = peat_quarries_01 }
			agot_add_building_if_possible = { BUILDING = watermills_01 }
		}
		province:2063 = {
			agot_add_building_if_possible = { BUILDING = peat_quarries_01 }
			agot_add_building_if_possible = { BUILDING = watermills_01 }
		}
		province:2064 = {
			agot_add_building_if_possible = { BUILDING = logging_camps_01 }
			agot_add_building_if_possible = { BUILDING = watermills_01 }
		}
		province:2065 = {
			agot_add_building_if_possible = { BUILDING = logging_camps_01 }
			agot_add_building_if_possible = { BUILDING = watermills_01 }
		}
		province:2066 = {
			agot_add_building_if_possible = { BUILDING = logging_camps_01 }
			agot_add_building_if_possible = { BUILDING = watermills_01 }
		}
		province:2081 = {
			agot_add_building_if_possible = { BUILDING = peat_quarries_01 }
			agot_add_building_if_possible = { BUILDING = watermills_01 }
		}
		province:2082 = {
			agot_add_building_if_possible = { BUILDING = cereal_fields_01 }
			agot_add_building_if_possible = { BUILDING = watermills_01 }
		}
		province:2083 = {
			agot_add_building_if_possible = { BUILDING = cereal_fields_01 }
			agot_add_building_if_possible = { BUILDING = watermills_01 }
		}
		province:2102 = {
			agot_add_building_if_possible = { BUILDING = smiths_03 }
			agot_add_building_if_possible = { BUILDING = pastures_03 }
			agot_add_building_if_possible = { BUILDING = cereal_fields_03 }
		}
		province:2143 = {
			agot_add_building_if_possible = { BUILDING = smiths_04 }
			agot_add_building_if_possible = { BUILDING = barracks_04 }
			agot_add_building_if_possible = { BUILDING = hill_farms_04 }
		}
		province:2189 = {
			agot_add_building_if_possible = { BUILDING = common_tradeport_03 }
			agot_add_building_if_possible = { BUILDING = cereal_fields_02 }
			agot_add_building_if_possible = { BUILDING = watermills_03 }
		}
		province:2193 = {
			agot_add_building_if_possible = { BUILDING = common_tradeport_03 }
			agot_add_building_if_possible = { BUILDING = cereal_fields_02 }
			agot_add_building_if_possible = { BUILDING = watermills_03 }
		}
		province:2212 = {
			agot_add_building_if_possible = { BUILDING = cereal_fields_01 }
			agot_add_building_if_possible = { BUILDING = watermills_01 }
		}
		province:2212 = {
			agot_add_building_if_possible = { BUILDING = logging_camps_01 }
		}
		province:2216 = {
			agot_add_building_if_possible = { BUILDING = logging_camps_01 }
			agot_add_building_if_possible = { BUILDING = watermills_01 }
		}
		province:2217 = {
			agot_add_building_if_possible = { BUILDING = cereal_fields_01 }
			agot_add_building_if_possible = { BUILDING = watermills_01 }
		}
		province:2218 = {
			agot_add_building_if_possible = { BUILDING = logging_camps_01 }
			agot_add_building_if_possible = { BUILDING = watermills_01 }
		}
		province:2213 = {
			agot_add_building_if_possible = { BUILDING = farm_estates_01 }
			agot_add_building_if_possible = { BUILDING = watermills_01 }
		}
		province:2251 = {
			agot_add_building_if_possible = { BUILDING = barracks_03 }
			agot_add_building_if_possible = { BUILDING = smiths_04 }
			agot_add_building_if_possible = { BUILDING = pastures_04 }
		}
		province:2255 = {
			agot_add_building_if_possible = { BUILDING = barracks_06 }
			agot_add_building_if_possible = { BUILDING = smiths_04 }
			agot_add_building_if_possible = { BUILDING = hill_farms_06 }
		}
		province:2277 = {
			agot_add_building_if_possible = { BUILDING = smiths_04 }
			agot_add_building_if_possible = { BUILDING = regimental_grounds_04 }
			agot_add_building_if_possible = { BUILDING = farm_estates_04 }
		}
		province:2308 = {
			agot_add_building_if_possible = { BUILDING = hill_farms_03 }
			agot_add_building_if_possible = { BUILDING = pastures_03 }
			agot_add_building_if_possible = { BUILDING = common_tradeport_03 }
		}
		province:2323 = {
			agot_add_building_if_possible = { BUILDING = farm_estates_06 }
			agot_add_building_if_possible = { BUILDING = cereal_fields_06 }
			agot_add_building_if_possible = { BUILDING = pastures_06 }
		}
		province:2344 = {
			agot_add_building_if_possible = { BUILDING = regimental_grounds_02 }
			agot_add_building_if_possible = { BUILDING = farm_estates_02 }
			agot_add_building_if_possible = { BUILDING = cereal_fields_02 }
		}
		province:2350 = {
			agot_add_building_if_possible = { BUILDING = regimental_grounds_04 }
			agot_add_building_if_possible = { BUILDING = farm_estates_04 }
			agot_add_building_if_possible = { BUILDING = cereal_fields_04 }
		}
		province:2372 = {
			agot_add_building_if_possible = { BUILDING = hunting_grounds_03 }
			agot_add_building_if_possible = { BUILDING = logging_camps_03 }
			agot_add_building_if_possible = { BUILDING = common_tradeport_03 }
		}
		province:2392 = {
			agot_add_building_if_possible = { BUILDING = regimental_grounds_04 }
			agot_add_building_if_possible = { BUILDING = farm_estates_04 }
			agot_add_building_if_possible = { BUILDING = hunting_grounds_04 }
		}
		province:2433 = {
			agot_add_building_if_possible = { BUILDING = barracks_04 }
			agot_add_building_if_possible = { BUILDING = smiths_04 }
			agot_add_building_if_possible = { BUILDING = military_camps_04 }
		}
		province:2434 = {
			agot_add_building_if_possible = { BUILDING = common_tradeport_04 }
			agot_add_building_if_possible = { BUILDING = agot_urban_farms_03 }
		}
		province:2435 = {
			agot_add_building_if_possible = { BUILDING = agot_urban_farms_02 }
		}
		province:2439 = {
			agot_add_building_if_possible = { BUILDING = agot_urban_farms_02 }
		}
		province:2442 = {
			agot_add_building_if_possible = { BUILDING = common_tradeport_04 }
			agot_add_building_if_possible = { BUILDING = agot_urban_farms_03 }
		}
		province:2455 = {
			agot_add_building_if_possible = { BUILDING = stables_06 }
			agot_add_building_if_possible = { BUILDING = regimental_grounds_06 }
			agot_add_building_if_possible = { BUILDING = farm_estates_06 }
		}
		province:2514 = {
			agot_add_building_if_possible = { BUILDING = smiths_04 }
			agot_add_building_if_possible = { BUILDING = hill_farms_04 }
			agot_add_building_if_possible = { BUILDING = common_tradeport_04 }
		}
		province:2718 = {
			agot_add_building_if_possible = { BUILDING = common_tradeport_03 }
		}
		province:2855 = {
			agot_add_building_if_possible = { BUILDING = godswood_02 }
			agot_add_building_if_possible = { BUILDING = stables_06 }
			agot_add_building_if_possible = { BUILDING = barracks_04 }
		}
		province:2862 = {
			agot_add_building_if_possible = { BUILDING = barracks_02 }
			agot_add_building_if_possible = { BUILDING = smiths_01 }
		}
		province:2863 = {
			agot_add_building_if_possible = { BUILDING = guild_halls_06 }
			agot_add_building_if_possible = { BUILDING = agot_urban_farms_06 }
		}
		province:2865 = {
			agot_add_building_if_possible = { BUILDING = guild_halls_05 }
			agot_add_building_if_possible = { BUILDING = agot_urban_farms_03 }
		}
		province:2866 = {
			agot_add_building_if_possible = { BUILDING = common_tradeport_04 }
			agot_add_building_if_possible = { BUILDING = barracks_03 }
			agot_add_building_if_possible = { BUILDING = workshops_02 }
		}
		province:2884 = {
			agot_add_building_if_possible = { BUILDING = workshops_04 }
			agot_add_building_if_possible = { BUILDING = hunting_grounds_03 }
			agot_add_building_if_possible = { BUILDING = cereal_fields_02 }
		}
		province:2916 = {
			agot_add_building_if_possible = { BUILDING = smiths_04 }
			agot_add_building_if_possible = { BUILDING = hunting_grounds_03 }
			agot_add_building_if_possible = { BUILDING = hill_farms_02 }
		}
		province:2961 = {
			agot_add_building_if_possible = { BUILDING = smiths_04 }
			agot_add_building_if_possible = { BUILDING = hunting_grounds_03 }
			agot_add_building_if_possible = { BUILDING = hill_farms_02 }
		}
		province:2999 = {
			agot_add_building_if_possible = { BUILDING = smiths_04 }
			agot_add_building_if_possible = { BUILDING = hunting_grounds_03 }
			agot_add_building_if_possible = { BUILDING = quarries_03 }
		}
		province:3023 = {
			agot_add_building_if_possible = { BUILDING = smiths_04 }
			agot_add_building_if_possible = { BUILDING = hunting_grounds_03 }
			agot_add_building_if_possible = { BUILDING = cereal_fields_02 }
		}
		province:3043 = {
			agot_add_building_if_possible = { BUILDING = smiths_04 }
			agot_add_building_if_possible = { BUILDING = hunting_grounds_03 }
			agot_add_building_if_possible = { BUILDING = logging_camps_03 }
		}
		province:3067 = {
			agot_add_building_if_possible = { BUILDING = smiths_03 }
			agot_add_building_if_possible = { BUILDING = quarries_04 }
		}
		province:3068 = {
			agot_add_building_if_possible = { BUILDING = hill_farms_03 }
			agot_add_building_if_possible = { BUILDING = quarries_04 }
		}
		province:3072 = {
			agot_add_building_if_possible = { BUILDING = hill_farms_03 }
		}
		province:3074 = {
			agot_add_building_if_possible = { BUILDING = hill_farms_03 }
			agot_add_building_if_possible = { BUILDING = quarries_04 }
		}
		province:3089 = {
			agot_add_building_if_possible = { BUILDING = hill_farms_03 }
			agot_add_building_if_possible = { BUILDING = quarries_04 }
		}
		province:3092 = {
			agot_add_building_if_possible = { BUILDING = smiths_03 }
			agot_add_building_if_possible = { BUILDING = hill_farms_03 }
			agot_add_building_if_possible = { BUILDING = hunting_grounds_03 }
		}
		province:3093 = {
			agot_add_building_if_possible = { BUILDING = hill_farms_03 }
		}
		province:3094 = {
			agot_add_building_if_possible = { BUILDING = hill_farms_03 }
		}
		province:3104 = {
			agot_add_building_if_possible = { BUILDING = guild_halls_04 }
			agot_add_building_if_possible = { BUILDING = hill_farms_03 }
		}
		province:3114 = {
			agot_add_building_if_possible = { BUILDING = smiths_03 }
			agot_add_building_if_possible = { BUILDING = hunting_grounds_03 }
			agot_add_building_if_possible = { BUILDING = hill_farms_03 }
		}
		province:3122 = {
			agot_add_building_if_possible = { BUILDING = hunting_grounds_01 }
			agot_add_building_if_possible = { BUILDING = pastures_01 }
			agot_add_building_if_possible = { BUILDING = cereal_fields_01 }
		}
		province:3135 = {
			agot_add_building_if_possible = { BUILDING = stables_04 }
			agot_add_building_if_possible = { BUILDING = smiths_04 }
			agot_add_building_if_possible = { BUILDING = hill_farms_04 }
		}
		province:3161 = {
			agot_add_building_if_possible = { BUILDING = hunting_grounds_01 }
			agot_add_building_if_possible = { BUILDING = pastures_01 }
			agot_add_building_if_possible = { BUILDING = cereal_fields_01 }
		}
		province:3186 = {
			agot_add_building_if_possible = { BUILDING = smiths_01 }
			agot_add_building_if_possible = { BUILDING = pastures_01 }
			agot_add_building_if_possible = { BUILDING = cereal_fields_01 }
		}
		province:3201 = {
			agot_add_building_if_possible = { BUILDING = smiths_03 }
			agot_add_building_if_possible = { BUILDING = cereal_fields_03 }
			agot_add_building_if_possible = { BUILDING = common_tradeport_03 }
		}
		province:3202 = {
			agot_add_building_if_possible = { BUILDING = hunting_grounds_02 }
			agot_add_building_if_possible = { BUILDING = logging_camps_02 }
			agot_add_building_if_possible = { BUILDING = common_tradeport_02 }
		}
		province:3203 = {
			agot_add_building_if_possible = { BUILDING = hill_farms_02 }
			agot_add_building_if_possible = { BUILDING = quarries_02 }
			agot_add_building_if_possible = { BUILDING = common_tradeport_03 }
		}
		province:3205 = {
			agot_add_building_if_possible = { BUILDING = cereal_fields_03 }
			agot_add_building_if_possible = { BUILDING = pastures_03 }
			agot_add_building_if_possible = { BUILDING = common_tradeport_03 }
		}
		province:3206 = {
			agot_add_building_if_possible = { BUILDING = smiths_04 }
			agot_add_building_if_possible = { BUILDING = hill_farms_03 }
			agot_add_building_if_possible = { BUILDING = quarries_03 }
		}
		province:3223 = {
			agot_add_building_if_possible = { BUILDING = common_tradeport_03 }
			agot_add_building_if_possible = { BUILDING = hill_farms_03 }
			agot_add_building_if_possible = { BUILDING = quarries_03 }
		}
		province:3225 = {
			agot_add_building_if_possible = { BUILDING = common_tradeport_03 }
			agot_add_building_if_possible = { BUILDING = pastures_03 }
			agot_add_building_if_possible = { BUILDING = quarries_03 }
		}
		province:3228 = {
			agot_add_building_if_possible = { BUILDING = common_tradeport_03 }
			agot_add_building_if_possible = { BUILDING = pastures_03 }
			agot_add_building_if_possible = { BUILDING = cereal_fields_03 }
		}
		province:3229 = {
			agot_add_building_if_possible = { BUILDING = common_tradeport_03 }
			agot_add_building_if_possible = { BUILDING = pastures_03 }
			agot_add_building_if_possible = { BUILDING = quarries_03 }
		}
		province:3230 = {
			agot_add_building_if_possible = { BUILDING = common_tradeport_03 }
			agot_add_building_if_possible = { BUILDING = pastures_03 }
			agot_add_building_if_possible = { BUILDING = quarries_03 }
		}
		province:3233 = {
			agot_add_building_if_possible = { BUILDING = common_tradeport_03 }
			agot_add_building_if_possible = { BUILDING = pastures_03 }
			agot_add_building_if_possible = { BUILDING = quarries_03 }
		}
		province:3234 = {
			agot_add_building_if_possible = { BUILDING = common_tradeport_01 }
			agot_add_building_if_possible = { BUILDING = pastures_01 }
			agot_add_building_if_possible = { BUILDING = cereal_fields_01 }
		}
		province:3237 = {
			agot_add_building_if_possible = { BUILDING = hill_farms_08 }
			agot_add_building_if_possible = { BUILDING = pastures_04 }
			agot_add_building_if_possible = { BUILDING = stables_04 }
		}
		province:3238 = {
			agot_add_building_if_possible = { BUILDING = hill_farms_06 }
			agot_add_building_if_possible = { BUILDING = common_tradeport_02 }
		}
		province:3239 = {
			agot_add_building_if_possible = { BUILDING = hill_farms_06 }
			agot_add_building_if_possible = { BUILDING = common_tradeport_02 }
		}
		province:3240 = {
			agot_add_building_if_possible = { BUILDING = hill_farms_06 }
			agot_add_building_if_possible = { BUILDING = common_tradeport_02 }
		}
		province:3241 = {
			agot_add_building_if_possible = { BUILDING = hill_farms_06 }
			agot_add_building_if_possible = { BUILDING = common_tradeport_02 }
		}
		province:3245 = {
			agot_add_building_if_possible = { BUILDING = farm_estates_03 }
			agot_add_building_if_possible = { BUILDING = common_tradeport_02 }
		}
		province:3246 = {
			agot_add_building_if_possible = { BUILDING = farm_estates_03 }
			agot_add_building_if_possible = { BUILDING = common_tradeport_02 }
		}
		province:3261 = {
			agot_add_building_if_possible = { BUILDING = farm_estates_03 }
			agot_add_building_if_possible = { BUILDING = common_tradeport_01 }
		}
		province:3262 = {
			agot_add_building_if_possible = { BUILDING = farm_estates_03 }
			agot_add_building_if_possible = { BUILDING = common_tradeport_01 }
		}
		province:3263 = {
			agot_add_building_if_possible = { BUILDING = farm_estates_03 }
			agot_add_building_if_possible = { BUILDING = common_tradeport_01 }
		}
		province:3268 = {
			agot_add_building_if_possible = { BUILDING = farm_estates_04 }
			agot_add_building_if_possible = { BUILDING = common_tradeport_04 }
		}
		province:3269 = {
			agot_add_building_if_possible = { BUILDING = hill_farms_03 }
			agot_add_building_if_possible = { BUILDING = common_tradeport_02 }
		}
		province:3270 = {
			agot_add_building_if_possible = { BUILDING = farm_estates_03 }
			agot_add_building_if_possible = { BUILDING = common_tradeport_02 }
		}
		province:3274 = {
			agot_add_building_if_possible = { BUILDING = farm_estates_03 }
			agot_add_building_if_possible = { BUILDING = cereal_fields_02 }
		}
		province:3278 = {
			agot_add_building_if_possible = { BUILDING = farm_estates_03 }
			agot_add_building_if_possible = { BUILDING = common_tradeport_02 }
		}
		province:3293 = {
			agot_add_building_if_possible = { BUILDING = stables_03 }
			agot_add_building_if_possible = { BUILDING = smiths_03 }
			agot_add_building_if_possible = { BUILDING = cereal_fields_03 }
		}
		province:3320 = {
			agot_add_building_if_possible = { BUILDING = barracks_04 }
			agot_add_building_if_possible = { BUILDING = smiths_04 }
			agot_add_building_if_possible = { BUILDING = hunting_grounds_04 }
		}
		province:3354 = {
			agot_add_building_if_possible = { BUILDING = workshops_04 }
			agot_add_building_if_possible = { BUILDING = smiths_04 }
			agot_add_building_if_possible = { BUILDING = hill_farms_03 }
		}
		province:3407 = {
			agot_add_building_if_possible = { BUILDING = hunting_grounds_03 }
			agot_add_building_if_possible = { BUILDING = hill_farms_03 }
		}
		province:3422 = {
			agot_add_building_if_possible = { BUILDING = smiths_03 }
			agot_add_building_if_possible = { BUILDING = hunting_grounds_03 }
			agot_add_building_if_possible = { BUILDING = hill_farms_03 }
		}
		province:3455 = {
			agot_add_building_if_possible = { BUILDING = smiths_04 }
			agot_add_building_if_possible = { BUILDING = cereal_fields_04 }
			agot_add_building_if_possible = { BUILDING = common_tradeport_02 }
		}
		province:3458 = {
			agot_add_building_if_possible = { BUILDING = cereal_fields_03 }
			agot_add_building_if_possible = { BUILDING = common_tradeport_02 }
		}
		province:3459 = {
			agot_add_building_if_possible = { BUILDING = cereal_fields_03 }
			agot_add_building_if_possible = { BUILDING = common_tradeport_02 }
		}
		province:3461 = {
			agot_add_building_if_possible = { BUILDING = smiths_04 }
			agot_add_building_if_possible = { BUILDING = cereal_fields_04 }
			agot_add_building_if_possible = { BUILDING = common_tradeport_04 }
		}
		province:3462 = {
			agot_add_building_if_possible = { BUILDING = common_tradeport_04 }
			agot_add_building_if_possible = { BUILDING = cereal_fields_04 }
			agot_add_building_if_possible = { BUILDING = pastures_04 }
		}
		province:3493 = {
			agot_add_building_if_possible = { BUILDING = workshops_06 }
			agot_add_building_if_possible = { BUILDING = smiths_06 }
			agot_add_building_if_possible = { BUILDING = common_tradeport_06 }
		}
		province:3494 = {
			agot_add_building_if_possible = { BUILDING = common_tradeport_07 }
			agot_add_building_if_possible = { BUILDING = agot_urban_farms_08 }
		}
		province:3496 = {
			agot_add_building_if_possible = { BUILDING = common_tradeport_04 }
			agot_add_building_if_possible = { BUILDING = agot_urban_farms_02 }
		}
		province:3497 = {
			agot_add_building_if_possible = { BUILDING = guild_halls_05 }
			agot_add_building_if_possible = { BUILDING = common_tradeport_04 }
			agot_add_building_if_possible = { BUILDING = agot_urban_farms_02 }
		}
		province:3498 = {
			agot_add_building_if_possible = { BUILDING = guild_halls_05 }
			agot_add_building_if_possible = { BUILDING = agot_urban_farms_02 }
		}
		province:3499 = {
			agot_add_building_if_possible = { BUILDING = common_tradeport_04 }
			agot_add_building_if_possible = { BUILDING = agot_urban_farms_02 }
		}
		province:3500 = {
			agot_add_building_if_possible = { BUILDING = common_tradeport_03 }
			agot_add_building_if_possible = { BUILDING = agot_urban_farms_04 }
		}
		province:3514 = {
			agot_add_building_if_possible = { BUILDING = cereal_fields_04 }
			agot_add_building_if_possible = { BUILDING = common_tradeport_02 }
		}
		province:3515 = {
			agot_add_building_if_possible = { BUILDING = cereal_fields_04 }
			agot_add_building_if_possible = { BUILDING = common_tradeport_02 }
		}
		province:3530 = {
			agot_add_building_if_possible = { BUILDING = cereal_fields_04 }
			agot_add_building_if_possible = { BUILDING = common_tradeport_02 }
		}
		province:3534 = {
			agot_add_building_if_possible = { BUILDING = smiths_04 }
			agot_add_building_if_possible = { BUILDING = cereal_fields_04 }
			agot_add_building_if_possible = { BUILDING = common_tradeport_02 }
		}
		province:3539 = {
			agot_add_building_if_possible = { BUILDING = cereal_fields_04 }
			agot_add_building_if_possible = { BUILDING = common_tradeport_02 }
		}
		province:3564 = {
			agot_add_building_if_possible = { BUILDING = smiths_04 }
			agot_add_building_if_possible = { BUILDING = apiaries_04 }
			agot_add_building_if_possible = { BUILDING = cereal_fields_04 }
		}
		province:3601 = {
			agot_add_building_if_possible = { BUILDING = farm_estates_03 }
			agot_add_building_if_possible = { BUILDING = cereal_fields_03 }
			agot_add_building_if_possible = { BUILDING = apiaries_03 }
		}
		province:3627 = {
			agot_add_building_if_possible = { BUILDING = warrior_lodges_03 }
			agot_add_building_if_possible = { BUILDING = smiths_03 }
			agot_add_building_if_possible = { BUILDING = hill_farms_03 }
		}
		province:3655 = {
			agot_add_building_if_possible = { BUILDING = hunting_grounds_04 }
			agot_add_building_if_possible = { BUILDING = pastures_04 }
			agot_add_building_if_possible = { BUILDING = hill_farms_04 }
		}
		province:3684 = {
			agot_add_building_if_possible = { BUILDING = stables_04 }
			agot_add_building_if_possible = { BUILDING = farm_estates_04 }
			agot_add_building_if_possible = { BUILDING = cereal_fields_04 }
		}
		province:3730 = {
			agot_add_building_if_possible = { BUILDING = stables_05 }
			agot_add_building_if_possible = { BUILDING = smiths_05 }
			agot_add_building_if_possible = { BUILDING = hill_farms_05 }
		}
		province:3768 = {
			agot_add_building_if_possible = { BUILDING = smiths_03 }
			agot_add_building_if_possible = { BUILDING = hunting_grounds_03 }
			agot_add_building_if_possible = { BUILDING = cereal_fields_03 }
		}
		province:3813 = {
			agot_add_building_if_possible = { BUILDING = hill_farms_03 }
			agot_add_building_if_possible = { BUILDING = common_tradeport_02 }
		}
		province:3816 = {
			agot_add_building_if_possible = { BUILDING = hill_farms_03 }
			agot_add_building_if_possible = { BUILDING = common_tradeport_02 }
		}
		province:3819 = {
			agot_add_building_if_possible = { BUILDING = hill_farms_03 }
			agot_add_building_if_possible = { BUILDING = common_tradeport_02 }
		}
		province:3823 = {
			agot_add_building_if_possible = { BUILDING = farm_estates_03 }
			agot_add_building_if_possible = { BUILDING = common_tradeport_02 }
		}
		province:3824 = {
			agot_add_building_if_possible = { BUILDING = hill_farms_03 }
			agot_add_building_if_possible = { BUILDING = common_tradeport_02 }
		}
		province:3828 = {
			agot_add_building_if_possible = { BUILDING = cereal_fields_02 }
			agot_add_building_if_possible = { BUILDING = common_tradeport_02 }
		}
		province:3831 = {
			agot_add_building_if_possible = { BUILDING = hill_farms_03 }
			agot_add_building_if_possible = { BUILDING = common_tradeport_02 }
		}
		province:3844 = {
			agot_add_building_if_possible = { BUILDING = stables_03 }
			agot_add_building_if_possible = { BUILDING = hunting_grounds_03 }
			agot_add_building_if_possible = { BUILDING = hill_farms_03 }
		}
		province:3858 = {
			agot_add_building_if_possible = { BUILDING = hill_farms_03 }
			agot_add_building_if_possible = { BUILDING = common_tradeport_02 }
		}
		province:3859 = {
			agot_add_building_if_possible = { BUILDING = hill_farms_03 }
			agot_add_building_if_possible = { BUILDING = common_tradeport_02 }
		}
		province:3862 = {
			agot_add_building_if_possible = { BUILDING = logging_camps_03 }
			agot_add_building_if_possible = { BUILDING = common_tradeport_02 }
		}
		province:3886 = {
			agot_add_building_if_possible = { BUILDING = logging_camps_03 }
			agot_add_building_if_possible = { BUILDING = hunting_grounds_03 }
		}
		province:3911 = {
			agot_add_building_if_possible = { BUILDING = cereal_fields_03 }
			agot_add_building_if_possible = { BUILDING = hunting_grounds_03 }
		}
		province:3938 = {
			agot_add_building_if_possible = { BUILDING = logging_camps_03 }
			agot_add_building_if_possible = { BUILDING = hunting_grounds_03 }
		}
		province:3966 = {
			agot_add_building_if_possible = { BUILDING = hill_farms_01 }
		}
		province:3967 = {
			agot_add_building_if_possible = { BUILDING = hill_farms_01 }
			agot_add_building_if_possible = { BUILDING = pastures_01 }
		}
		province:4001 = {
			agot_add_building_if_possible = { BUILDING = farm_estates_02 }
			agot_add_building_if_possible = { BUILDING = cereal_fields_02 }
		}
		province:4005 = {
			agot_add_building_if_possible = { BUILDING = farm_estates_02 }
			agot_add_building_if_possible = { BUILDING = cereal_fields_02 }
			agot_add_building_if_possible = { BUILDING = hunting_grounds_02 }
		}
		province:4012 = {
			agot_add_building_if_possible = { BUILDING = hill_farms_03 }
			agot_add_building_if_possible = { BUILDING = common_tradeport_02 }
		}
		province:4033 = {
			agot_add_building_if_possible = { BUILDING = farm_estates_02 }
			agot_add_building_if_possible = { BUILDING = cereal_fields_02 }
		}
		province:4037 = {
			agot_add_building_if_possible = { BUILDING = farm_estates_03 }
			agot_add_building_if_possible = { BUILDING = common_tradeport_02 }
		}
		province:4038 = {
			agot_add_building_if_possible = { BUILDING = farm_estates_03 }
			agot_add_building_if_possible = { BUILDING = common_tradeport_02 }
		}
		province:4072 = {
			agot_add_building_if_possible = { BUILDING = farm_estates_04 }
			agot_add_building_if_possible = { BUILDING = common_tradeport_04 }
		}
		province:4079 = {
			agot_add_building_if_possible = { BUILDING = farm_estates_03 }
			agot_add_building_if_possible = { BUILDING = common_tradeport_02 }
		}
		province:4102 = {
			agot_add_building_if_possible = { BUILDING = smiths_04 }
			agot_add_building_if_possible = { BUILDING = hunting_grounds_04 }
			agot_add_building_if_possible = { BUILDING = common_tradeport_04 }
		}
		province:4107 = {
			agot_add_building_if_possible = { BUILDING = smiths_03 }
			agot_add_building_if_possible = { BUILDING = hunting_grounds_03 }
			agot_add_building_if_possible = { BUILDING = common_tradeport_03 }
		}
		province:4111 = {
			agot_add_building_if_possible = { BUILDING = smiths_03 }
			agot_add_building_if_possible = { BUILDING = hunting_grounds_03 }
			agot_add_building_if_possible = { BUILDING = common_tradeport_03 }
		}
		province:4116 = {
			agot_add_building_if_possible = { BUILDING = smiths_03 }
			agot_add_building_if_possible = { BUILDING = hunting_grounds_03 }
			agot_add_building_if_possible = { BUILDING = common_tradeport_03 }
		}
		province:4124 = {
			agot_add_building_if_possible = { BUILDING = common_tradeport_05 }
			agot_add_building_if_possible = { BUILDING = cereal_fields_05 }
			agot_add_building_if_possible = { BUILDING = regimental_grounds_04 }
		}
		province:4125 = {
			agot_add_building_if_possible = { BUILDING = common_tradeport_05 }
			agot_add_building_if_possible = { BUILDING = farm_estates_04 }
		}
		province:4126 ={
			agot_add_building_if_possible = { BUILDING = farm_estates_04 }
		}
		province:4127 ={
			agot_add_building_if_possible = { BUILDING = common_tradeport_05 }
		}
		province:4129 ={
			agot_add_building_if_possible = { BUILDING = common_tradeport_04 }
		}
		province:4131 ={
			agot_add_building_if_possible = { BUILDING = common_tradeport_05 }
		}
		province:4131 ={
			agot_add_building_if_possible = { BUILDING = common_tradeport_06 }
		}
		province:4134 ={
			agot_add_building_if_possible = { BUILDING = farm_estates_02 }
			agot_add_building_if_possible = { BUILDING = common_tradeport_02 }
		}
		province:4135 ={
			agot_add_building_if_possible = { BUILDING = common_tradeport_02 }
		}
		province:4136 = {
			agot_add_building_if_possible = { BUILDING = common_tradeport_03 }
		}
		province:4137 ={
			agot_add_building_if_possible = { BUILDING = farm_estates_04 }
			agot_add_building_if_possible = { BUILDING = common_tradeport_04 }
		}
		province:4138 ={
			agot_add_building_if_possible = { BUILDING = farm_estates_02 }
			agot_add_building_if_possible = { BUILDING = common_tradeport_02 }
		}
		province:4151 = {
			agot_add_building_if_possible = { BUILDING = stables_04 }
			agot_add_building_if_possible = { BUILDING = workshops_04 }
			if = { # AGOT Bookmarked Added
				limit = { game_start_date >= 8050.1.1 }
				agot_add_building_if_possible = { BUILDING = godswood_02 }
			}
		}
		province:4152 = {
			agot_add_building_if_possible = { BUILDING = agot_urban_farms_03 }
		}
		province:4153 = {
			agot_add_building_if_possible = { BUILDING = agot_urban_farms_03 }
		}
		province:4154 = {
			agot_add_building_if_possible = { BUILDING = guild_halls_08 }
			agot_add_building_if_possible = { BUILDING = agot_urban_farms_08 }
		}
		province:4155 = {
			agot_add_building_if_possible = { BUILDING = agot_urban_farms_03 }
		}
		province:4156 = {
			agot_add_building_if_possible = { BUILDING = military_camps_01 }
		}
		province:4160 = {
			agot_add_building_if_possible = { BUILDING = military_camps_01 }
		}
		province:4177 = {
			agot_add_building_if_possible = { BUILDING = pastures_04 }
			agot_add_building_if_possible = { BUILDING = stables_03 }
			agot_add_building_if_possible = { BUILDING = military_camps_03 }
		}
		province:4197 = {
			agot_add_building_if_possible = { BUILDING = pastures_04 }
			agot_add_building_if_possible = { BUILDING = stables_03 }
			agot_add_building_if_possible = { BUILDING = military_camps_03 }
		}
		province:4217 = {
			agot_add_building_if_possible = { BUILDING = smiths_04 }
			agot_add_building_if_possible = { BUILDING = pastures_04 }
			agot_add_building_if_possible = { BUILDING = cereal_fields_04 }
		}
		province:4241 = {
			agot_add_building_if_possible = { BUILDING = barracks_03 }
			agot_add_building_if_possible = { BUILDING = smiths_03 }
			agot_add_building_if_possible = { BUILDING = hill_farms_03 }
		}
		province:4242 = {
			agot_add_building_if_possible = { BUILDING = logging_camps_04 }
			agot_add_building_if_possible = { BUILDING = outposts_04 }
			agot_add_building_if_possible = { BUILDING = common_tradeport_04 }
		}
		province:4268 = {
			agot_add_building_if_possible = { BUILDING = smiths_04 }
			agot_add_building_if_possible = { BUILDING = cereal_fields_03 }
			agot_add_building_if_possible = { BUILDING = common_tradeport_02 }
		}
		province:4388 = {
			agot_add_building_if_possible = { BUILDING = barracks_04 }
			agot_add_building_if_possible = { BUILDING = smiths_04 }
			agot_add_building_if_possible = { BUILDING = hill_farms_04 }
		}
		province:4415 = {
			agot_add_building_if_possible = { BUILDING = warrior_lodges_03 }
			agot_add_building_if_possible = { BUILDING = smiths_03 }
			agot_add_building_if_possible = { BUILDING = quarries_03 }
		}
		province:4419 = {
			agot_add_building_if_possible = { BUILDING = cereal_fields_04 }
			agot_add_building_if_possible = { BUILDING = pastures_04 }
			agot_add_building_if_possible = { BUILDING = common_tradeport_04 }
		}
		province:4420 = {
			agot_add_building_if_possible = { BUILDING = common_tradeport_03 }
		}
		province:4428 = {
			agot_add_building_if_possible = { BUILDING = smiths_04 }
			agot_add_building_if_possible = { BUILDING = hill_farms_04 }
			agot_add_building_if_possible = { BUILDING = common_tradeport_04 }
		}
		province:4436 = {
			agot_add_building_if_possible = { BUILDING = barracks_04 }
			agot_add_building_if_possible = { BUILDING = hill_farms_05 }
			agot_add_building_if_possible = { BUILDING = common_tradeport_03 }
		}
		province:4439 = {
			agot_add_building_if_possible = { BUILDING = stables_05 }
			agot_add_building_if_possible = { BUILDING = smiths_05 }
			agot_add_building_if_possible = { BUILDING = godswood_04 }
		}
		province:4468 = {
			agot_add_building_if_possible = { BUILDING = warrior_lodges_03 }
			agot_add_building_if_possible = { BUILDING = smiths_03 }
			agot_add_building_if_possible = { BUILDING = hunting_grounds_03 }
		}
		province:4474 = {
			agot_add_building_if_possible = { BUILDING = military_camps_03 }
			agot_add_building_if_possible = { BUILDING = hunting_grounds_03 }
			agot_add_building_if_possible = { BUILDING = logging_camps_03 }
		}
		province:4495 = {
			agot_add_building_if_possible = { BUILDING = military_camps_04 }
			agot_add_building_if_possible = { BUILDING = outposts_04 }
			agot_add_building_if_possible = { BUILDING = quarries_04 }
		}
		province:4526 = {
			agot_add_building_if_possible = { BUILDING = military_camps_03 }
			agot_add_building_if_possible = { BUILDING = smiths_02 }
			agot_add_building_if_possible = { BUILDING = logging_camps_03 }
		}
		province:4574 = {
			agot_add_building_if_possible = { BUILDING = military_camps_03 }
			agot_add_building_if_possible = { BUILDING = smiths_02 }
			agot_add_building_if_possible = { BUILDING = logging_camps_03 }
		}
		province:4581 = {
			agot_add_building_if_possible = { BUILDING = common_tradeport_03 }
		}
		province:4605 = {
			agot_add_building_if_possible = { BUILDING = military_camps_03 }
			agot_add_building_if_possible = { BUILDING = smiths_02 }
			agot_add_building_if_possible = { BUILDING = logging_camps_03 }
		}
		province:4631 = {
			agot_add_building_if_possible = { BUILDING = quarries_02 }
			agot_add_building_if_possible = { BUILDING = barracks_02 }
			agot_add_building_if_possible = { BUILDING = common_tradeport_02 }
		}
		province:4645 = {
			agot_add_building_if_possible = { BUILDING = military_camps_04 }
			agot_add_building_if_possible = { BUILDING = smiths_04 }
			agot_add_building_if_possible = { BUILDING = hill_farms_04 }
		}
		province:4673 = {
			agot_add_building_if_possible = { BUILDING = military_camps_03 }
			agot_add_building_if_possible = { BUILDING = smiths_03 }
			agot_add_building_if_possible = { BUILDING = cereal_fields_03 }
		}
		province:4699 = {
			agot_add_building_if_possible = { BUILDING = stables_04 }
			agot_add_building_if_possible = { BUILDING = smiths_03 }
			agot_add_building_if_possible = { BUILDING = hill_farms_04 }
		}
		province:4720 = {
			agot_add_building_if_possible = { BUILDING = military_camps_04 }
			agot_add_building_if_possible = { BUILDING = smiths_04 }
			agot_add_building_if_possible = { BUILDING = hill_farms_04 }
		}
		province:4744 = {
			agot_add_building_if_possible = { BUILDING = military_camps_04 }
			agot_add_building_if_possible = { BUILDING = smiths_04 }
			agot_add_building_if_possible = { BUILDING = cereal_fields_03 }
		}
		province:4803 = {
			agot_add_building_if_possible = { BUILDING = barracks_03 }
			agot_add_building_if_possible = { BUILDING = smiths_02 }
			agot_add_building_if_possible = { BUILDING = cereal_fields_03 }
		}
		province:4832 = {
			agot_add_building_if_possible = { BUILDING = barracks_04 }
			agot_add_building_if_possible = { BUILDING = hunting_grounds_04 }
			agot_add_building_if_possible = { BUILDING = logging_camps_04 }
		}
		province:4875 = {
			agot_add_building_if_possible = { BUILDING = barracks_04 }
			agot_add_building_if_possible = { BUILDING = smiths_03 }
			agot_add_building_if_possible = { BUILDING = hill_farms_02 }
		}
		province:4896 = {
			agot_add_building_if_possible = { BUILDING = barracks_04 }
			agot_add_building_if_possible = { BUILDING = smiths_03 }
			agot_add_building_if_possible = { BUILDING = cereal_fields_03 }
		}
		province:4917 ={
			agot_add_building_if_possible = { BUILDING = quarries_08 }
			agot_add_building_if_possible = { BUILDING = stables_04 }
			agot_add_building_if_possible = { BUILDING = cereal_fields_03 }
		}
		province:4918 ={
			agot_add_building_if_possible = { BUILDING = logging_camps_03 }
			agot_add_building_if_possible = { BUILDING = common_tradeport_06 }
		}
		province:4919 ={
			agot_add_building_if_possible = { BUILDING = guild_halls_05 }
		}
		province:4920 ={
			agot_add_building_if_possible = { BUILDING = guild_halls_05 }
		}
		province:4925 ={
			agot_add_building_if_possible = { BUILDING = guild_halls_03 }
		}
		province:4926 ={
			agot_add_building_if_possible = { BUILDING = guild_halls_03 }
		}
		province:4928 ={
			agot_add_building_if_possible = { BUILDING = common_tradeport_05 }
		}
		province:4929 ={
			agot_add_building_if_possible = { BUILDING = guild_halls_03 }
		}
		province:4930 ={
			agot_add_building_if_possible = { BUILDING = common_tradeport_05 }
			agot_add_building_if_possible = { BUILDING = hill_farms_03 }
		}
		province:4931 ={
			agot_add_building_if_possible = { BUILDING = guild_halls_03 }
		}
		province:4932 ={
			agot_add_building_if_possible = { BUILDING = common_tradeport_05 }
		}
		province:4933 ={
			agot_add_building_if_possible = { BUILDING = guild_halls_05 }
		}
		province:4934 ={
			agot_add_building_if_possible = { BUILDING = guild_halls_05 }
		}
		province:4937 ={
			agot_add_building_if_possible = { BUILDING = horse_pastures_04 }
			agot_add_building_if_possible = { BUILDING = barracks_04 }
			agot_add_building_if_possible = { BUILDING = workshops_04 }
		}
		province:4939 ={
			agot_add_building_if_possible = { BUILDING = plantations_03 }
		}
		province:4940 ={
			agot_add_building_if_possible = { BUILDING = agot_urban_farms_04 }
			agot_add_building_if_possible = { BUILDING = common_tradeport_02 }
		}
		province:4945 = {
			agot_add_building_if_possible = { BUILDING = common_tradeport_05 }
			agot_add_building_if_possible = { BUILDING = orchards_05 }
			agot_add_building_if_possible = { BUILDING = caravanserai_05 }
		}
		province:4946 = {
			agot_add_building_if_possible = { BUILDING = common_tradeport_03 }
			agot_add_building_if_possible = { BUILDING = orchards_02 }
		}
		province:4964 = {
			agot_add_building_if_possible = { BUILDING = common_tradeport_03 }
			agot_add_building_if_possible = { BUILDING = orchards_02 }
		}
		province:4955 = {
			agot_add_building_if_possible = { BUILDING = common_tradeport_03 }
			agot_add_building_if_possible = { BUILDING = orchards_02 }
		}
		province:4956 = {
			agot_add_building_if_possible = { BUILDING = common_tradeport_03 }
			agot_add_building_if_possible = { BUILDING = orchards_02 }
		}
		province:4960 = {
			agot_add_building_if_possible = { BUILDING = regimental_grounds_01 }
			agot_add_building_if_possible = { BUILDING = caravanserai_01 }
			agot_add_building_if_possible = { BUILDING = common_tradeport_01 }
		}
		province:4965 = {
			agot_add_building_if_possible = { BUILDING = common_tradeport_03 }
			agot_add_building_if_possible = { BUILDING = orchards_02 }
		}
		province:5002 = {
			agot_add_building_if_possible = { BUILDING = regimental_grounds_03 }
			agot_add_building_if_possible = { BUILDING = common_tradeport_03 }
			agot_add_building_if_possible = { BUILDING = caravanserai_03 }
		}
		province:5013 = {
			agot_add_building_if_possible = { BUILDING = common_tradeport_03 }
			agot_add_building_if_possible = { BUILDING = orchards_02 }
		}
		province:5017 = {
			agot_add_building_if_possible = { BUILDING = common_tradeport_03 }
			agot_add_building_if_possible = { BUILDING = orchards_02 }
		}
		province:5022 = {
			agot_add_building_if_possible = { BUILDING = common_tradeport_03 }
			agot_add_building_if_possible = { BUILDING = orchards_02 }
		}
		province:5027 = {
			agot_add_building_if_possible = { BUILDING = common_tradeport_03 }
			agot_add_building_if_possible = { BUILDING = orchards_02 }
		}
		province:5032 = {
			agot_add_building_if_possible = { BUILDING = outposts_02 }
			agot_add_building_if_possible = { BUILDING = workshops_02 }
			agot_add_building_if_possible = { BUILDING = hunting_grounds_02 }
		}
		province:5049 = {
			agot_add_building_if_possible = { BUILDING = barracks_02 }
			agot_add_building_if_possible = { BUILDING = hill_farms_02 }
			agot_add_building_if_possible = { BUILDING = caravanserai_02 }
		}
		province:5068 = {
			agot_add_building_if_possible = { BUILDING = workshops_03 }
			agot_add_building_if_possible = { BUILDING = plantations_03 }
			agot_add_building_if_possible = { BUILDING = caravanserai_03 }
		}
		province:5102 = {
			agot_add_building_if_possible = { BUILDING = outposts_02 }
			agot_add_building_if_possible = { BUILDING = workshops_02 }
			agot_add_building_if_possible = { BUILDING = caravanserai_02 }
		}
		province:5135 = {
			agot_add_building_if_possible = { BUILDING = outposts_04 }
			agot_add_building_if_possible = { BUILDING = workshops_04 }
			agot_add_building_if_possible = { BUILDING = caravanserai_04 }
		}
		province:5211 = {
			agot_add_building_if_possible = { BUILDING = outposts_03 }
			agot_add_building_if_possible = { BUILDING = workshops_03 }
			agot_add_building_if_possible = { BUILDING = caravanserai_03 }
		}
		province:5257 = {
			agot_add_building_if_possible = { BUILDING = warrior_lodges_04 }
			agot_add_building_if_possible = { BUILDING = barracks_03 }
			agot_add_building_if_possible = { BUILDING = hill_farms_02 }
		}
		province:5258 = {
			agot_add_building_if_possible = { BUILDING = common_tradeport_03 }
		}
		province:5303 = {
			agot_add_building_if_possible = { BUILDING = barracks_05 }
			agot_add_building_if_possible = { BUILDING = warrior_lodges_05 }
			agot_add_building_if_possible = { BUILDING = hill_farms_05 }
		}
		province:5352 = {
			agot_add_building_if_possible = { BUILDING = barracks_04 }
			agot_add_building_if_possible = { BUILDING = quarries_04 }
			agot_add_building_if_possible = { BUILDING = caravanserai_03 }
		}
		province:5412 = {
			agot_add_building_if_possible = { BUILDING = smiths_04 }
			agot_add_building_if_possible = { BUILDING = quarries_03 }
			agot_add_building_if_possible = { BUILDING = plantations_03 }
		}
		province:5441 = {
			agot_add_building_if_possible = { BUILDING = barracks_03 }
			agot_add_building_if_possible = { BUILDING = quarries_03 }
			agot_add_building_if_possible = { BUILDING = caravanserai_03 }
		}
		province:7294 = {
			agot_add_building_if_possible = { BUILDING = agot_pirate_economic_06 }
			agot_add_building_if_possible = { BUILDING = agot_pirate_fortification_02 }
		}
		province:7340 = {
			agot_add_building_if_possible = { BUILDING = agot_pirate_troop_04 }
			agot_add_building_if_possible = { BUILDING = agot_pirate_military_03 }
		}
		province:7351 = {
			agot_add_building_if_possible = { BUILDING = barracks_03 }
			agot_add_building_if_possible = { BUILDING = agot_slave_camps_06 }
		}
		province:7352 = {
			agot_add_building_if_possible = { BUILDING = common_tradeport_07 }
			agot_add_building_if_possible = { BUILDING = caravanserai_04 }
		}
		province:7353 = {
			agot_add_building_if_possible = { BUILDING = common_tradeport_05 }
			agot_add_building_if_possible = { BUILDING = agot_urban_farms_03 }
		}
		province:7354 = {
			agot_add_building_if_possible = { BUILDING = agot_urban_farms_03 }
			agot_add_building_if_possible = { BUILDING = caravanserai_02 }
			agot_add_building_if_possible = { BUILDING = agot_slave_camps_06 }
		}
		province:7355 = {
			agot_add_building_if_possible = { BUILDING =common_tradeport_03 }
			agot_add_building_if_possible = { BUILDING = agot_urban_farms_03 }
		}
		province:7356 = {
			agot_add_building_if_possible = { BUILDING = barracks_03 }
			agot_add_building_if_possible = { BUILDING = agot_slave_camps_06 }
		}
		province:7357 = {
			agot_add_building_if_possible = { BUILDING = common_tradeport_02 }
		}
		province:7358 = {
			agot_add_building_if_possible = { BUILDING = common_tradeport_02 }
			agot_add_building_if_possible = { BUILDING = guild_halls_02 }
			agot_add_building_if_possible = { BUILDING = agot_slave_camps_06 }
		}
		province:7363 = {
			agot_add_building_if_possible = { BUILDING = cereal_fields_06 }
		}
		province:7364 = {
			agot_add_building_if_possible = { BUILDING = hill_farms_05 }
			agot_add_building_if_possible = { BUILDING = hunting_grounds_03 }
		}
		province:7365 = {
			agot_add_building_if_possible = { BUILDING = hill_farms_05 }
			agot_add_building_if_possible = { BUILDING = apiaries_02 }
		}
		province:7368 = {
			agot_add_building_if_possible = { BUILDING = farm_estates_03 }
		}
		province:7369 = {
			agot_add_building_if_possible = { BUILDING = cereal_fields_06 }
		}
		province:7370 = {
			agot_add_building_if_possible = { BUILDING = farm_estates_03 }
		}
		province:7371 = {
			agot_add_building_if_possible = { BUILDING = farm_estates_03 }
		}
		province:7372 = {
			agot_add_building_if_possible = { BUILDING = farm_estates_04 }
		}
		province:7373 = {
			agot_add_building_if_possible = { BUILDING = farm_estates_04 }
		}
		province:7374 = {
			agot_add_building_if_possible = { BUILDING = farm_estates_04 }
		}
		province:7375 = {
			agot_add_building_if_possible = { BUILDING = cereal_fields_02 }
		}
		province:7381 = {
			agot_add_building_if_possible = { BUILDING = common_tradeport_02 }
			agot_add_building_if_possible = { BUILDING = cereal_fields_01 }
		}
		province:7388 = {
			agot_add_building_if_possible = { BUILDING = agot_urban_farms_04 }
			agot_add_building_if_possible = { BUILDING = agot_slave_camps_06 }
		}
		province:7389 = {
			agot_add_building_if_possible = { BUILDING = common_tradeport_03 }
			agot_add_building_if_possible = { BUILDING = military_camps_04 }
		}
		province:7390 = {
			agot_add_building_if_possible = { BUILDING = common_tradeport_03 }
			agot_add_building_if_possible = { BUILDING = smiths_02 }
		}
		province:7391 = {
			agot_add_building_if_possible = { BUILDING = common_tradeport_03 }
			agot_add_building_if_possible = { BUILDING = agot_urban_farms_04 }
		}
		province:7392 = {
			agot_add_building_if_possible = { BUILDING = agot_urban_farms_03 }
			agot_add_building_if_possible = { BUILDING = workshops_03 }
			agot_add_building_if_possible = { BUILDING = agot_slave_camps_06 }
		}
		province:7394 = {
			agot_add_building_if_possible = { BUILDING = agot_urban_farms_03 }
			agot_add_building_if_possible = { BUILDING = common_tradeport_03 }
		}
		province:7395 = {
			agot_add_building_if_possible = { BUILDING = common_tradeport_05 }
			agot_add_building_if_possible = { BUILDING = orchards_04 }
			agot_add_building_if_possible = { BUILDING = agot_urban_farms_04 }
		}
		province:7396 = {
			agot_add_building_if_possible = { BUILDING = common_tradeport_04 }
			agot_add_building_if_possible = { BUILDING = agot_urban_farms_03 }
		}
		province:7397 = {
			agot_add_building_if_possible = { BUILDING = hunting_grounds_03 }
			agot_add_building_if_possible = { BUILDING = agot_slave_camps_06 }
		}
		province:7400 = {
			agot_add_building_if_possible = { BUILDING = military_camps_03 }
			agot_add_building_if_possible = { BUILDING = smiths_02 }
		}
		province:7401 = {
			agot_add_building_if_possible = { BUILDING = guild_halls_02 }
			agot_add_building_if_possible = { BUILDING = common_tradeport_04 }
			agot_add_building_if_possible = { BUILDING = agot_slave_camps_06 }
		}
		province:7402 = {
			agot_add_building_if_possible = { BUILDING = logging_camps_04 }
			agot_add_building_if_possible = { BUILDING = hunting_grounds_06 }
		}
		province:7406 = {
			agot_add_building_if_possible = { BUILDING = military_camps_03 }
			agot_add_building_if_possible = { BUILDING = smiths_03 }
		}
		province:7407 = {
			agot_add_building_if_possible = { BUILDING = military_camps_03 }
			agot_add_building_if_possible = { BUILDING = smiths_03 }
		}
		province:7410 = {
			agot_add_building_if_possible = { BUILDING = common_tradeport_04 }
			agot_add_building_if_possible = { BUILDING = hill_farms_04 }
		}
		province:7411 = {
			agot_add_building_if_possible = { BUILDING = logging_camps_03 }
			agot_add_building_if_possible = { BUILDING = hunting_grounds_03 }
		}
		province:7413 = {
			agot_add_building_if_possible = { BUILDING = regimental_grounds_02 }
			agot_add_building_if_possible = { BUILDING = farm_estates_03 }
		}
		province:7414 = {
			agot_add_building_if_possible = { BUILDING = regimental_grounds_02 }
			agot_add_building_if_possible = { BUILDING = farm_estates_03 }
		}
		province:7417 = {
			agot_add_building_if_possible = { BUILDING = common_tradeport_03 }
			agot_add_building_if_possible = { BUILDING = logging_camps_03 }
		}
		province:7418 = {
			agot_add_building_if_possible = { BUILDING = logging_camps_05 }
			agot_add_building_if_possible = { BUILDING = hunting_grounds_04 }
		}
		province:7419 = {
			agot_add_building_if_possible = { BUILDING = common_tradeport_03 }
			agot_add_building_if_possible = { BUILDING = logging_camps_05 }
		}
		province:7420 = {
			agot_add_building_if_possible = { BUILDING = regimental_grounds_03 }
			agot_add_building_if_possible = { BUILDING = farm_estates_03 }
		}
		province:7422 = {
			agot_add_building_if_possible = { BUILDING = logging_camps_02 }
			agot_add_building_if_possible = { BUILDING = hunting_grounds_02 }
		}
		province:7424 = {
			agot_add_building_if_possible = { BUILDING = logging_camps_02 }
			agot_add_building_if_possible = { BUILDING = hunting_grounds_02 }
		}
		province:7426 = {
			agot_add_building_if_possible = { BUILDING = pastures_02 }
		}
		province:7428 = {
			agot_add_building_if_possible = { BUILDING = logging_camps_05 }
			agot_add_building_if_possible = { BUILDING = hunting_grounds_04 }
		}
		province:7429 = {
			agot_add_building_if_possible = { BUILDING = common_tradeport_03 }
			agot_add_building_if_possible = { BUILDING = logging_camps_05 }
		}
		province:7431 = {
			agot_add_building_if_possible = { BUILDING = regimental_grounds_02 }
			agot_add_building_if_possible = { BUILDING = farm_estates_03 }
		}
		province:7432 = {
			agot_add_building_if_possible = { BUILDING = farm_estates_05 }
		}
		province:7436 = {
			agot_add_building_if_possible = { BUILDING = farm_estates_01 }
		}
		province:7437 = {
			agot_add_building_if_possible = { BUILDING = farm_estates_03 }
		}
		province:7442 = {
			agot_add_building_if_possible = { BUILDING = farm_estates_03 }
		}
		province:7447 = {
			agot_add_building_if_possible = { BUILDING = farm_estates_03 }
		}
		province:7454 = {
			agot_add_building_if_possible = { BUILDING = farm_estates_03 }
		}
		province:7456 = {
			agot_add_building_if_possible = { BUILDING = farm_estates_03 }
		}
		province:7468 = {
			agot_add_building_if_possible = { BUILDING = hill_farms_01}
		}
		province:7471 = {
			agot_add_building_if_possible = { BUILDING = farm_estates_03 }
		}
		province:7472 = {
			agot_add_building_if_possible = { BUILDING = elephant_pens_04 }
			agot_add_building_if_possible = { BUILDING = smiths_04 }
		}
		province:7474 = {
			agot_add_building_if_possible = { BUILDING = farm_estates_03 }
		}
		province:7479 = {
			agot_add_building_if_possible = { BUILDING = farm_estates_03 }
		}
		province:7487 = {
			agot_add_building_if_possible = { BUILDING = farm_estates_03 }
		}
		province:7491 = {
			agot_add_building_if_possible = { BUILDING = farm_estates_05 }
		}
		province:7492 = {
			agot_add_building_if_possible = { BUILDING = farm_estates_03 }
		}
		province:7494 = {
			agot_add_building_if_possible = { BUILDING = farm_estates_04 }
		}
		province:7501 = {
			agot_add_building_if_possible = { BUILDING = farm_estates_06 }
		}
		province:7502 = {
			agot_add_building_if_possible = { BUILDING = farm_estates_02 }
		}
		province:7505 = {
			agot_add_building_if_possible = { BUILDING = farm_estates_02 }
		}
		province:7506 = {
			agot_add_building_if_possible = { BUILDING = farm_estates_06 }
		}
		province:7517 = {
			agot_add_building_if_possible = { BUILDING = common_tradeport_03 }
			agot_add_building_if_possible = { BUILDING = logging_camps_03 }
		}
		province:7528 = {
			agot_add_building_if_possible = { BUILDING = caravanserai_05 }
			agot_add_building_if_possible = { BUILDING = logging_camps_03 }
		}
		province:7531 = {
			agot_add_building_if_possible = { BUILDING = regimental_grounds_02 }
			agot_add_building_if_possible = { BUILDING = farm_estates_03 }
		}
		province:7534 = {
			agot_add_building_if_possible = { BUILDING = logging_camps_03 }
			agot_add_building_if_possible = { BUILDING = caravanserai_04 }
		}
		province:7535 = {
			agot_add_building_if_possible = { BUILDING = caravanserai_05 }
			agot_add_building_if_possible = { BUILDING = hunting_grounds_04 }
		}
		province:7545 = {
			agot_add_building_if_possible = { BUILDING = caravanserai_05 }
			agot_add_building_if_possible = { BUILDING = logging_camps_03 }
		}
		province:7556 = {
			agot_add_building_if_possible = { BUILDING = workshops_06 }
			agot_add_building_if_possible = { BUILDING = agot_urban_farms_04 }
			agot_add_building_if_possible = { BUILDING = watermills_03 }
			agot_add_building_if_possible = { BUILDING = caravanserai_03 }
		}
		province:7557 = {
			agot_add_building_if_possible = { BUILDING = common_tradeport_06 }
			agot_add_building_if_possible = { BUILDING = watermills_03 }
			agot_add_building_if_possible = { BUILDING = workshops_03 }
		}
		province:7558 = {
			agot_add_building_if_possible = { BUILDING = common_tradeport_06 }
			agot_add_building_if_possible = { BUILDING = watermills_03 }
			agot_add_building_if_possible = { BUILDING = workshops_03 }
		}
		province:7559 = {
			agot_add_building_if_possible = { BUILDING = workshops_03 }
			agot_add_building_if_possible = { BUILDING = common_tradeport_06 }
		}
		province:7560 = {
			agot_add_building_if_possible = { BUILDING = agot_urban_farms_03 }
			agot_add_building_if_possible = { BUILDING = workshops_03 }
		}
		province:7561 = {
			agot_add_building_if_possible = { BUILDING = agot_urban_farms_04 }
			agot_add_building_if_possible = { BUILDING = workshops_03 }
		}
		province:7562 = {
			agot_add_building_if_possible = { BUILDING = agot_urban_farms_04 }
			agot_add_building_if_possible = { BUILDING = workshops_03 }
		}
		province:7563 = {
			agot_add_building_if_possible = { BUILDING = monastic_schools_05 }
			agot_add_building_if_possible = { BUILDING = barracks_04 }
		}
		province:7564 = {
			agot_add_building_if_possible = { BUILDING = hill_farms_03 }
			agot_add_building_if_possible = { BUILDING = pastures_02 }
		}
		province:7565 = {
			agot_add_building_if_possible = { BUILDING = guild_halls_02 }
			agot_add_building_if_possible = { BUILDING = common_tradeport_03 }
		}
		province:7569 = {
			agot_add_building_if_possible = { BUILDING = workshops_04 }
			agot_add_building_if_possible = { BUILDING = windmills_03 }
			agot_add_building_if_possible = { BUILDING = watermills_03 }
			agot_add_building_if_possible = { BUILDING = cereal_fields_03 }
		}
		province:7573 = {
			agot_add_building_if_possible = { BUILDING = workshops_04 }
			agot_add_building_if_possible = { BUILDING = windmills_03 }
			agot_add_building_if_possible = { BUILDING = hill_farms_03 }
		}
		province:7574 = {
			agot_add_building_if_possible = { BUILDING = hill_farms_04 }
			agot_add_building_if_possible = { BUILDING = pastures_03 }
			agot_add_building_if_possible = { BUILDING = workshops_03 }
		}
		province:7585 = {
			agot_add_building_if_possible = { BUILDING = workshops_05 }
			agot_add_building_if_possible = { BUILDING = common_tradeport_05 }
			agot_add_building_if_possible = { BUILDING = windmills_04 }
			agot_add_building_if_possible = { BUILDING = cereal_fields_03 }
		}
		province:7586 = {
			agot_add_building_if_possible = { BUILDING = common_tradeport_06 }
			agot_add_building_if_possible = { BUILDING = cereal_fields_04 }
			agot_add_building_if_possible = { BUILDING = pastures_04 }
		}
		province:7591 = {
			agot_add_building_if_possible = { BUILDING = workshops_02 }
			agot_add_building_if_possible = { BUILDING = windmills_03 }
			agot_add_building_if_possible = { BUILDING = cereal_fields_03 }
		}
		province:7592 = {
			agot_add_building_if_possible = { BUILDING = hill_farms_04 }
			agot_add_building_if_possible = { BUILDING = pastures_04 }
		}
		province:7658 = {
			agot_add_building_if_possible = { BUILDING = workshops_05 }
			agot_add_building_if_possible = { BUILDING = common_tradeport_03 }
			agot_add_building_if_possible = { BUILDING = windmills_02 }
			agot_add_building_if_possible = { BUILDING = cereal_fields_04 }
		}
		province:7659 = {
			agot_add_building_if_possible = { BUILDING = cereal_fields_03 }
			agot_add_building_if_possible = { BUILDING = pastures_04 }
		}
		province:7708 = {
			agot_add_building_if_possible = { BUILDING = common_tradeport_05 }
			agot_add_building_if_possible = { BUILDING = agot_urban_farms_04 }
			agot_add_building_if_possible = { BUILDING = windmills_04 }
			agot_add_building_if_possible = { BUILDING = caravanserai_04 }
		}
		province:7709 = {
			agot_add_building_if_possible = { BUILDING = common_tradeport_04 }
			agot_add_building_if_possible = { BUILDING = agot_urban_farms_05 }
			agot_add_building_if_possible = { BUILDING = caravanserai_02 }
		}
		province:7710 = {
			agot_add_building_if_possible = { BUILDING = agot_urban_farms_04 }
			agot_add_building_if_possible = { BUILDING = caravanserai_04 }
		}
		province:7711 = {
			agot_add_building_if_possible = { BUILDING = common_tradeport_06 }
			agot_add_building_if_possible = { BUILDING = agot_urban_farms_05 }
			agot_add_building_if_possible = { BUILDING = caravanserai_04 }
		}
		province:7712 = {
			agot_add_building_if_possible = { BUILDING = common_tradeport_04 }
			agot_add_building_if_possible = { BUILDING = agot_urban_farms_03 }
		}
		province:7713 = {
			agot_add_building_if_possible = { BUILDING = curtain_walls_04 }
			agot_add_building_if_possible = { BUILDING = barracks_04 }
			agot_add_building_if_possible = { BUILDING = agot_urban_farms_04 }
		}
		province:7714 = {
			agot_add_building_if_possible = { BUILDING = guild_halls_05 }
			agot_add_building_if_possible = { BUILDING = agot_urban_farms_05 }
		}
		province:7715 = {
			agot_add_building_if_possible = { BUILDING = agot_urban_farms_06 }
			agot_add_building_if_possible = { BUILDING = caravanserai_06 }
		}
		province:7717 = {
			agot_add_building_if_possible = { BUILDING = cereal_fields_05 }
			agot_add_building_if_possible = { BUILDING = pastures_04 }
		}
		province:7718 = {
			agot_add_building_if_possible = { BUILDING = cereal_fields_05 }
			agot_add_building_if_possible = { BUILDING = pastures_04 }
		}
		province:7719 = {
			agot_add_building_if_possible = { BUILDING = cereal_fields_05 }
			agot_add_building_if_possible = { BUILDING = pastures_04 }
		}
		province:7723 = {
			agot_add_building_if_possible = { BUILDING = cereal_fields_03 }
			agot_add_building_if_possible = { BUILDING = pastures_02 }
		}
		province:7724 = {
			agot_add_building_if_possible = { BUILDING = cereal_fields_03 }
			agot_add_building_if_possible = { BUILDING = pastures_02 }
		}
		province:7725 = {
			agot_add_building_if_possible = { BUILDING = cereal_fields_03 }
			agot_add_building_if_possible = { BUILDING = pastures_02 }
		}
		province:7730 = {
			agot_add_building_if_possible = { BUILDING = cereal_fields_03 }
			agot_add_building_if_possible = { BUILDING = pastures_02 }
		}
		province:7731 = {
			agot_add_building_if_possible = { BUILDING = cereal_fields_03 }
			agot_add_building_if_possible = { BUILDING = pastures_02 }
		}
		province:7733 = {
			agot_add_building_if_possible = { BUILDING = common_tradeport_03 }
			agot_add_building_if_possible = { BUILDING = hill_farms_04 }
		}
		province:7735 = {
			agot_add_building_if_possible = { BUILDING = cereal_fields_03 }
			agot_add_building_if_possible = { BUILDING = pastures_02 }
		}
		province:7736 = {
			agot_add_building_if_possible = { BUILDING = common_tradeport_03 }
			agot_add_building_if_possible = { BUILDING = caravanserai_02 }
			agot_add_building_if_possible = { BUILDING = cereal_fields_01 }
		}
		province:7737 = {
			agot_add_building_if_possible = { BUILDING = cereal_fields_03 }
			agot_add_building_if_possible = { BUILDING = pastures_02 }
		}
		province:7738 = {
			agot_add_building_if_possible = { BUILDING = cereal_fields_03 }
			agot_add_building_if_possible = { BUILDING = pastures_02 }
		}
		province:7739 = {
			agot_add_building_if_possible = { BUILDING = cereal_fields_05 }
			agot_add_building_if_possible = { BUILDING = pastures_04 }
		}
		province:7740 = {
			agot_add_building_if_possible = { BUILDING = common_tradeport_03 }
			agot_add_building_if_possible = { BUILDING = caravanserai_02 }
			agot_add_building_if_possible = { BUILDING = cereal_fields_01 }
		}
		province:7741 = {
			agot_add_building_if_possible = { BUILDING = common_tradeport_03 }
			agot_add_building_if_possible = { BUILDING = caravanserai_02 }
			agot_add_building_if_possible = { BUILDING = cereal_fields_01 }
		}
		province:7742 = {
			agot_add_building_if_possible = { BUILDING = common_tradeport_03 }
			agot_add_building_if_possible = { BUILDING = cereal_fields_01 }
		}
		province:7747 = {
			agot_add_building_if_possible = { BUILDING = common_tradeport_03 }
			agot_add_building_if_possible = { BUILDING = cereal_fields_01 }
		}
		province:7748 = {
			agot_add_building_if_possible = { BUILDING = common_tradeport_03 }
			agot_add_building_if_possible = { BUILDING = peat_quarries_03 }
		}
		province:7753 = {
			agot_add_building_if_possible = { BUILDING = cereal_fields_03 }
			agot_add_building_if_possible = { BUILDING = pastures_02 }
		}
		province:7755 = {
			agot_add_building_if_possible = { BUILDING = cereal_fields_03 }
			agot_add_building_if_possible = { BUILDING = pastures_02 }
		}
		province:7759 = {
			agot_add_building_if_possible = { BUILDING = cereal_fields_03 }
			agot_add_building_if_possible = { BUILDING = pastures_02 }
		}
		province:7765 = {
			agot_add_building_if_possible = { BUILDING = common_tradeport_03 }
			agot_add_building_if_possible = { BUILDING = hill_farms_02 }
		}
		province:7770 = {
			agot_add_building_if_possible = { BUILDING = common_tradeport_03 }
			agot_add_building_if_possible = { BUILDING = hill_farms_02 }
		}
		province:7778 = {
			agot_add_building_if_possible = { BUILDING = cereal_fields_03 }
			agot_add_building_if_possible = { BUILDING = pastures_02 }
		}
		province:7779 = {
			agot_add_building_if_possible = { BUILDING = cereal_fields_03 }
			agot_add_building_if_possible = { BUILDING = pastures_02 }
		}
		province:7780 = {
			agot_add_building_if_possible = { BUILDING = cereal_fields_03 }
			agot_add_building_if_possible = { BUILDING = pastures_02 }
		}
		province:7783 = {
			agot_add_building_if_possible = { BUILDING = cereal_fields_03 }
			agot_add_building_if_possible = { BUILDING = pastures_02 }
		}
		province:7784 = {
			agot_add_building_if_possible = { BUILDING = cereal_fields_03 }
			agot_add_building_if_possible = { BUILDING = pastures_02 }
		}
		province:7786 = {
			agot_add_building_if_possible = { BUILDING = cereal_fields_03 }
			agot_add_building_if_possible = { BUILDING = pastures_02 }
		}
		province:7788 = {
			agot_add_building_if_possible = { BUILDING = cereal_fields_03 }
			agot_add_building_if_possible = { BUILDING = pastures_02 }
		}
		province:7789 = {
			agot_add_building_if_possible = { BUILDING = cereal_fields_03 }
			agot_add_building_if_possible = { BUILDING = pastures_02 }
		}
		province:7790 = {
			agot_add_building_if_possible = { BUILDING = cereal_fields_03 }
			agot_add_building_if_possible = { BUILDING = pastures_02 }
		}
		province:7854 = {
			agot_add_building_if_possible = { BUILDING = common_tradeport_03 }
			agot_add_building_if_possible = { BUILDING = cereal_fields_01 }
		}
		province:7855 = {
			agot_add_building_if_possible = { BUILDING = common_tradeport_03 }
			agot_add_building_if_possible = { BUILDING = hill_farms_02 }
		}
		province:7860 = {
			agot_add_building_if_possible = { BUILDING = common_tradeport_03 }
			agot_add_building_if_possible = { BUILDING = cereal_fields_01 }
		}
		province:7861 = {
			agot_add_building_if_possible = { BUILDING = common_tradeport_03 }
			agot_add_building_if_possible = { BUILDING = cereal_fields_01 }
		}
		province:7862 = {
			agot_add_building_if_possible = { BUILDING = common_tradeport_03 }
			agot_add_building_if_possible = { BUILDING = cereal_fields_01 }
		}
		province:7865 = {
			agot_add_building_if_possible = { BUILDING = common_tradeport_03 }
			agot_add_building_if_possible = { BUILDING = hill_farms_04 }
		}
		province:7880 = {
			agot_add_building_if_possible = { BUILDING = common_tradeport_04 }
			agot_add_building_if_possible = { BUILDING = hill_farms_04 }
			agot_add_building_if_possible = { BUILDING = windmills_04 }
			agot_add_building_if_possible = { BUILDING = watermills_04 }
		}
		province:7881 = {
			agot_add_building_if_possible = { BUILDING = caravanserai_05 }
			agot_add_building_if_possible = { BUILDING = cereal_fields_04 }
		}
		province:7882 = {
			agot_add_building_if_possible = { BUILDING = common_tradeport_03 }
			agot_add_building_if_possible = { BUILDING = cereal_fields_01 }
		}
		province:7886 = {
			agot_add_building_if_possible = { BUILDING = common_tradeport_03 }
			agot_add_building_if_possible = { BUILDING = logging_camps_02 }
		}
		province:7887 = {
			agot_add_building_if_possible = { BUILDING = common_tradeport_03 }
			agot_add_building_if_possible = { BUILDING = hill_farms_02 }
		}
		province:7889 = {
			agot_add_building_if_possible = { BUILDING = common_tradeport_03 }
			agot_add_building_if_possible = { BUILDING = hill_farms_02 }
		}
		province:7890 = {
			agot_add_building_if_possible = { BUILDING = common_tradeport_03 }
			agot_add_building_if_possible = { BUILDING = hill_farms_02 }
		}
		province:7895 = {
			agot_add_building_if_possible = { BUILDING = common_tradeport_04 }
			agot_add_building_if_possible = { BUILDING = hill_farms_04 }
		}
		province:7900 = {
			agot_add_building_if_possible = { BUILDING = common_tradeport_03 }
			agot_add_building_if_possible = { BUILDING = logging_camps_03 }
		}
		province:7912 = {
			agot_add_building_if_possible = { BUILDING = common_tradeport_03 }
			agot_add_building_if_possible = { BUILDING = cereal_fields_01 }
		}
		province:7913 = {
			agot_add_building_if_possible = { BUILDING = common_tradeport_03 }
			agot_add_building_if_possible = { BUILDING = cereal_fields_01 }
		}

		### Religion related setup
		# Setup faiths
		if = { # Add doctrine of exceptionalism
			limit = {
				game_start_date > 8051.1.1
				faith:the_seven_main = { NOT = { has_doctrine = agot_exceptionalism_doctrine } }
			}
			faith:the_seven_main = { add_doctrine = agot_exceptionalism_doctrine }
		}
		# Setup faith orders - TODO

		###

		### Dynasty related setup
		# Manage Incest restrictions
		dynasty:dynn_Targaryen = { set_variable = agot_allow_adelphogamous_incest }
		dynasty:dynn_Codd = { set_variable = agot_allow_adelphogamous_incest }

		# Manage valyrian_heritage_dynasty_modifier and other
		dynasty:dynn_Targaryen = {
			add_dynasty_modifier = valyrian_heritage_dynasty_modifier
			set_variable = { name = blood_legacy_4_beauty_good_1 value = yes }
		}
		dynasty:dynn_Velaryon = { add_dynasty_modifier = valyrian_heritage_dynasty_modifier }
		dynasty:dynn_Celtigar = { add_dynasty_modifier = valyrian_heritage_dynasty_modifier }
		dynasty:dynn_Scales = { add_dynasty_modifier = valyrian_heritage_dynasty_modifier }
		dynasty:dynn_Qoherys = { add_dynasty_modifier = valyrian_heritage_dynasty_modifier }
		dynasty:dynn_Varezys = { add_dynasty_modifier = valyrian_heritage_dynasty_modifier }
		dynasty:dynn_Mataeryon = { add_dynasty_modifier = valyrian_heritage_dynasty_modifier }
		dynasty:dynn_Belaerys = { add_dynasty_modifier = valyrian_heritage_dynasty_modifier }

		# Thrall Houses Modifier
		dynasty:dynn_Codd = { add_dynasty_modifier = thrall_house_dynasty_modifier }
		dynasty:dynn_Humble = { add_dynasty_modifier = thrall_house_dynasty_modifier }
		dynasty:dynn_Shepherd = { add_dynasty_modifier = thrall_house_dynasty_modifier }
		dynasty:dynn_Freeborn = { add_dynasty_modifier = thrall_house_dynasty_modifier }
		dynasty:dynn_Sharp = { add_dynasty_modifier = thrall_house_dynasty_modifier }
		dynasty:dynn_Tidewood = { add_dynasty_modifier = thrall_house_dynasty_modifier }
		dynasty:dynn_Weaver = { add_dynasty_modifier = thrall_house_dynasty_modifier }
		dynasty:dynn_Netley = { add_dynasty_modifier = thrall_house_dynasty_modifier }

		#Codd
		dynasty:dynn_Codd = { add_dynasty_modifier = codd_dynasty_modifier }

		#Dynasty Divided
		house:house_Blackfyre ?= { add_house_modifier = divided_dynasty_house_modifier }

		# give Targaryen loyalist modifiers
		every_ruler = {
			limit = {
				is_lowborn = no
				current_date >= 8282.9.15 # AGOT TODO; set proper dates for each house
			}

			if = {
				limit = {
					OR = {
						house = character:Hayford_3.house
						house = character:Darry_12.house
						house = character:Goodbrook_9.house
						house = character:Rowan_6.house
						house = character:Oakheart_5.house
						house = character:Tarly_8.house
						house = character:Hightower_18.house
						house = character:Hasty_6.house
						house = character:Lonmouth_4.house
						house = character:Rykker_7.house
						house = character:Ashford_5.house
						house = character:Boggs_14.house
						house = character:Brune_9.house
						house = character:Brownhollow_5.house
						house = character:Bush_5.house
						house = character:Pyne_3.house
						house = character:Hardy_11.house
						house = character:Cave_30.house
						house = character:Crabb_13.house
						house = character:Celtigar_8.house
						house = character:Velaryon_6.house
						house = character:Massey_10.house
						house = character:Mooton_8.house
						house = character:Butterwell_5.house
						house = character:Sunderland_9.house
						house = character:Peake_6.house
						house = character:Osgrey_7.house
						house = character:Ball_4.house
						house = character:Yronwood_8.house
						house = character:Mooton_8.house
						house = character:Vyrwel_10.house
						house = character:Bracken_28.house
						house = character:Hersy_4.house
						house = character:Tyrell_40.house
					}
				}

				house = { add_house_modifier = agot_historical_loyalty_targaryen }
			}
			if = {
				limit = {
					OR = {
						house = character:Butterwell_5.house
						house = character:Sunderland_9.house
						house = character:Peake_6.house
						house = character:Osgrey_7.house
						house = character:Ball_4.house
						house = character:Yronwood_8.house
						house = character:Vyrwel_10.house
						house = character:Bracken_28.house
						house = character:Hightower_18.house
						house = character:Hersy_4.house
					}
				}

				house = { add_house_modifier = agot_historical_loyalty_blackfyre }
			}
		}
		###

		### Most Devout Setup
		title:k_the_most_devout = {
			every_past_holder = {
				limit = { has_any_nickname = no }
				agot_assign_high_septon_nickname_effect = yes
			}

			holder ?= {
				if = {
					limit = { has_any_nickname = no }
					agot_assign_high_septon_nickname_effect = yes
				}
				if = {
					limit = { exists = title:e_the_iron_throne.holder }
					agot_assign_high_septon_effect = yes
				}
			}
		}

		### Iron Throne related setup
		title:c_kings_landing.holder = { # Appoint Commander of the Gold Cloaks
			if = {
				limit = {
					NOT = { has_title = title:b_goldguard_heights }
				}
				appoint_court_position = {
					recipient = title:b_goldguard_heights.holder
					court_position = goldcloaks_court_position
				}
			}
		}

		#Kingsguard Stuff
		title:d_dummy_kingsguard = {
			copy_title_history = title:d_kingsguard
		}
		title:d_kingsguard.holder ?= {
			change_government = kingsguard_government
		}
		title:d_kingsguard = {
			#destroy_title = title:d_kingsguard
			set_coa = d_kingsguard
		}

		if = { # Setup historical kingsguard members
			limit = { exists = title:e_the_iron_throne.holder }
			set_global_variable = agot_startup_fire_councillors
			title:e_the_iron_throne = { set_variable = agot_kingsguard_can_fire_yes }
			title:e_the_iron_throne.holder = {
				save_temporary_scope_as = agot_crown
			}
			every_living_character = {
				limit = {
					OR = {
						has_character_flag = agot_is_kingsguard_member
						has_character_flag = agot_is_kingsguard_commander
					}
				}

				add_trait = kingsguard
				remove_trait = refusing_marriage
				remove_character_modifier = training_for_kingsguard
				add_character_flag = { flag = blocked_from_leaving }
				if = {
					limit = {
						NOT = {
							is_courtier_of = scope:agot_crown
							is_ruler = yes #Filter out the Lord Commanders
						}
					}
					scope:agot_crown = { add_courtier = prev }
				}
				agot_create_artifact_kingsguard_armour_effect = { OWNER = this }
				agot_create_artifact_kingsguard_sword_effect = { OWNER = this }
				if = {
					limit = {
						has_character_flag = agot_is_kingsguard_member
						NOT = { has_character_flag = agot_is_kingsguard_commander }
					}

					title:e_the_iron_throne = {
						add_to_variable_list = {
							name = kingsguard_members
							target = prev
						}
					}
					remove_character_flag = agot_is_kingsguard_member
				}
				else_if = {
					limit = { has_character_flag = agot_is_kingsguard_commander }

					add_character_flag = lord_commander

					scope:agot_crown = {
						assign_councillor_type = {
							type = kingsguard_lord_commander
							target = prev
						}
					}
					title:e_the_iron_throne = {
						set_variable = {
							name = kingsguard_lord_commander
							value = prev
						}
					}
					remove_character_flag = agot_is_kingsguard_member
					remove_character_flag = agot_is_kingsguard_commander
				}
			}
			title:e_the_iron_throne = {
				random_in_list = {
					variable = kingsguard_members

					save_temporary_scope_as = kingsguard_member
					title:e_the_iron_throne = {
						holder = {
							assign_councillor_type = {
								type = kingsguard_1
								target = scope:kingsguard_member
							}
						}
						set_variable = {
							name = kingsguard_1
							value = scope:kingsguard_member
						}
						remove_list_variable = {
							name = kingsguard_members
							target = prev
						}
					}
				}
				random_in_list = {
					variable = kingsguard_members

					save_temporary_scope_as = kingsguard_member
					title:e_the_iron_throne = {
						holder = {
							assign_councillor_type = {
								type = kingsguard_2
								target = scope:kingsguard_member
							}
						}
						set_variable = {
							name = kingsguard_2
							value = scope:kingsguard_member
						}
						remove_list_variable = {
							name = kingsguard_members
							target = prev
						}
					}
				}
				random_in_list = {
					variable = kingsguard_members

					save_temporary_scope_as = kingsguard_member
					title:e_the_iron_throne = {
						holder = {
							assign_councillor_type = {
								type = kingsguard_3
								target = scope:kingsguard_member
							}
						}
						set_variable = {
							name = kingsguard_3
							value = scope:kingsguard_member
						}
						remove_list_variable = {
							name = kingsguard_members
							target = prev
						}
					}
				}
				random_in_list = {
					variable = kingsguard_members

					save_temporary_scope_as = kingsguard_member
					title:e_the_iron_throne = {
						holder = {
							assign_councillor_type = {
								type = kingsguard_4
								target = scope:kingsguard_member
							}
						}
						set_variable = {
							name = kingsguard_4
							value = scope:kingsguard_member
						}
						remove_list_variable = {
							name = kingsguard_members
							target = prev
						}
					}
				}
				random_in_list = {
					variable = kingsguard_members

					save_temporary_scope_as = kingsguard_member
					title:e_the_iron_throne = {
						holder = {
							assign_councillor_type = {
								type = kingsguard_5
								target = scope:kingsguard_member
							}
						}
						set_variable = {
							name = kingsguard_5
							value = scope:kingsguard_member
						}
						remove_list_variable = {
							name = kingsguard_members
							target = prev
						}
					}
				}
				random_in_list = {
					variable = kingsguard_members

					save_temporary_scope_as = kingsguard_member
					title:e_the_iron_throne = {
						holder = {
							assign_councillor_type = {
								type = kingsguard_6
								target = scope:kingsguard_member
							}
						}
						set_variable = {
							name = kingsguard_6
							value = scope:kingsguard_member
						}
						remove_list_variable = {
							name = kingsguard_members
							target = prev
						}
					}
				}
			}
			title:e_the_iron_throne = { remove_variable = agot_kingsguard_can_fire_yes }
			remove_global_variable = agot_startup_fire_councillors
		}
		###

		title:b_the_citadel.holder = {
			trigger_event = agot_citadel_maintenance.0003
		}

		#every_ruler doesn't catch barons
		every_barony = {
			limit = {
				exists = holder
				holder.highest_held_title_tier = tier_barony
				holder.faith = faith:old_gods_south
			}
			holder = { add_realm_law = male_preference_law }
		}

		every_ruler = {
			### Government Setup
			if = {
				limit = {
					agot_is_valid_lp_feudal_government_target = yes
					NOT = { has_government = ruins_government }
				}
				change_government = lp_feudal_government
			}
			if = {
				limit = {
					agot_is_valid_pirate_government_target = yes
					NOT = { has_government = ruins_government }
				}
				change_government = pirate_government
			}
			if = {
				limit = {
					highest_held_title_tier > tier_barony
					agot_is_valid_lp_feudal_government_target = yes
					is_independent_ruler = no
				}
				vassal_contract_set_obligation_level = {
					type = title_revocation_rights
					level = 1
				}
			}
			if = { # Night's Watch
				limit = {
					agot_is_member_of_nights_watch = yes
				}

				trigger_event = {
					id = agot_nights_watch.0003
				}
			}

			if = { # Override default equal succession for Old Gods
				limit = { faith = faith:old_gods_south }

				add_realm_law = male_preference_law
			}

			if = {
				limit = {
					has_government = pirate_government
					primary_title.tier > tier_county
				}
				every_held_title = {
					limit = { tier > tier_county }
					add_title_law = pirate_succession_law
				}
			}
			###

			if = { # Setup CoA
				limit = {
					agot_is_valid_dyn_coa_target = yes
				}
				every_held_title = { reset_coa = yes }
				trigger_event = agot_coa_events.0001
			}

			if = {
				limit = {
					primary_title.tier >= tier_kingdom
					OR = {
						primary_title = { has_title_law = magisterial_limited_succession_law }
						primary_title = { has_title_law = magisterial_life_succession_law }
					}
				}
				random_powerful_vassal = {
					limit = { is_adult = yes }
					if = {
						limit = {
							prev.primary_title = title:k_lys
						}
						prev = {
							designate_diarch = prev
							start_diarchy = second_magister
							set_diarchy_swing = 40
						}
					}
					else_if = {
						limit = {
							OR = {
								prev.primary_title = title:k_tyrosh
								prev.primary_title = title:k_pentos
							}
						}
						prev = {
							designate_diarch = prev
							start_diarchy = high_councilor
							set_diarchy_swing = 40
						}
					}
					else_if = {
						limit = {
							prev.primary_title = title:k_myr
						}
						prev = {
							designate_diarch = prev
							start_diarchy = tyniate
							set_diarchy_swing = 40
						}
					}
					else = {
						prev = {
							designate_diarch = prev
							start_diarchy = gonfaloniere
							set_diarchy_swing = 40
						}
					}
				}
			}
		}

		every_barony = { # Gold Cloaks revokations done through council
			if = {
				limit = {
					NOT = { this = title:b_goldguard_heights }
					exists = holder
					holder = { highest_held_title_tier = tier_barony }
					NOT = { holder = { has_trait = ruin } }
					title_province = { has_holding_type = castle_holding }
				}

				holder = {
					vassal_contract_set_obligation_level = {
						type = title_revocation_rights
						level = 0
					}
				}
			}
		}

		every_living_character = {
			#educations
			trigger_event = agot_prowess.0001 # Giving Prowess traits to characters
			trigger_event = agot_events_generic.0009

			#set up patron gods
			if = {
				limit = {
					religion = religion:faith_of_the_seven_religion
					age > 13
				}
				trigger_event = agot_events_generic.0005
			}

			#set up dyed hair
			if = {
				limit = {
					age > 13
				}
				trigger_event = agot_events_generic.0007
			}

			# must be before maester setup to make sure Aemon is set properly
			if = { # Yeet black brothers back to wall since they will ignore history files to join family
				limit = {
					OR = {
						has_trait = nightswatch
						has_trait = nightswatch_historical
					}
					NOR = {
						any_liege_or_above = { has_title = title:d_the_wall }
						has_title = title:d_the_wall
					}
				}
				move_to_pool_at = title:d_the_wall.holder.capital_province
				set_employer = title:d_the_wall.holder
			}

			if = { # Maester Title and Set-Up
				limit = {
					has_inactive_trait = grandmaester
				}
				save_scope_as = grandmaester
				agot_progress_to_grandmaester_effect = { GRANDMAESTER_CANDIDATE = scope:grandmaester }
			}
			else_if = {
				limit = {
					has_trait = maester
				}

				save_scope_as = maester
				if = {
					limit = {
						is_foreign_court_guest = no
						is_landed = no #stops citadel weirdness
						scope:maester.employer ?= {
							highest_held_title_tier > tier_barony
							NOR = {
								employs_court_position = maester_court_position
								primary_title = title:e_the_iron_throne
							}
						}
					}
					scope:maester.employer = {
						appoint_court_position = {
							recipient = scope:maester
							court_position = maester_court_position
						}
					}
				}
			}

			#Archmaester Artifact Setup
			if = {
				limit = {
					has_trait = archmaester
				}
				save_scope_as = archmaester
				agot_create_artifact_archmaester_mask_effect = { OWNER = scope:archmaester }
				agot_create_artifact_archmaester_ring_effect = { OWNER = scope:archmaester }
				agot_create_artifact_archmaester_rod_effect = { OWNER = scope:archmaester }
			}

			if = { # Lowborn High Valyrian Conversion
				limit = {
					AND = {
						is_lowborn = yes
						has_culture = culture:high_valyrian
					}
				}
				set_culture = culture:westerosi_valyrian
			}

			if = { # Get rid of lingering Guardianships
				limit = {
					age >= 16
					any_relation = { type = guardian }
				}
				every_relation = {
					type = guardian
					remove_relation_ward = PREV
				}
			}
			if = {
				limit = { has_trait = lifestyle_blademaster_3_history }
				remove_trait = lifestyle_blademaster_3_history
				add_trait = lifestyle_blademaster
				add_trait_xp = {
					trait = lifestyle_blademaster
					value = 100
				}
			}
			if = {
				limit = { has_trait = lifestyle_blademaster_2_history }
				remove_trait = lifestyle_blademaster_2_history
				add_trait = lifestyle_blademaster
				add_trait_xp = {
					trait = lifestyle_blademaster
					value = 50
				}
			}
		}

		agot_seed_archmaesters_effect = yes

		every_empire = {
			limit = {
				exists = holder
				OR = {
					has_title_law = magisterial_limited_succession_law
					has_title_law = magisterial_life_succession_law
				}
			}
			save_scope_as = term_limit_country
			holder = {
				save_scope_as = term_ruler
				every_held_title = {
					limit = {
						NOR = {
							has_title_law = magisterial_limited_succession_law
							has_title_law = magisterial_limited_succession_attached_titles_law
							has_title_law = magisterial_life_succession_law
							has_title_law = magisterial_life_succession_attached_titles_law
						}
					}
					every_de_jure_county = {
						limit = {
							NOT = { holder = scope:term_ruler }
						}
						scope:term_limit_country = {
							add_to_variable_list = {
								name = personal_vassals
								target = prev
							}
						}
					}
				}
			}
		}
		every_kingdom = {
			limit = {
				exists = holder
				OR = {
					has_title_law = magisterial_limited_succession_law
					has_title_law = magisterial_life_succession_law
				}
			}
			save_scope_as = term_limit_country
			holder = {
				save_scope_as = term_ruler
				every_held_title = {
					limit = {
						NOR = {
							has_title_law = magisterial_limited_succession_law
							has_title_law = magisterial_limited_succession_attached_titles_law
							has_title_law = magisterial_life_succession_law
							has_title_law = magisterial_life_succession_attached_titles_law
						}
					}
					every_de_jure_county = {
						limit = {
							NOT = { holder = scope:term_ruler }
						}
						scope:term_limit_country = {
							add_to_variable_list = {
								name = personal_vassals
								target = prev
							}
						}
					}
				}
			}
		}

		random_ruler = {
			limit = { NOT = { is_landed = yes } }
			trigger_event = agot_error_destroyer_9000.1 # X is being set/used but not used/set error destroyer
		}
		##### Basic setup end #####

		### Scenario setup
		if = {
			limit = {
				OR = {
					game_start_date = 8282.9.15
					game_start_date = 8284.6.2
				}
			}

			character:Lannister_1 = { # Tywin Claim Cleanup
				if = {
					limit = {
						is_alive = yes
						is_landed = yes
					}
					remove_claim = title:c_coldmoat
					remove_claim = title:c_brandybottom
					remove_claim = title:c_derring_downs
					remove_claim = title:c_fang_hill
					remove_claim = title:d_ashemark
					remove_claim = title:c_ashemark
					remove_claim = title:c_nunns_deep
					remove_claim = title:c_leafy_lake
				}
			}
			character:Arryn_3 = {
				set_designated_heir = character:Arryn_13
			}
			# Nightswatch cleanup TO-DO set up by date
			character:Qorgyle_69 = {
				if = {
					limit = { is_alive  = yes }
					move_to_pool_at = character:Qorgyle_4.capital_province
					set_employer = character:Qorgyle_4
				}
			}
			character:Qorgyle_10 = {
				if = {
					limit = { is_alive  = yes }
					move_to_pool_at = character:Qorgyle_4.capital_province
					set_employer = character:Qorgyle_4
				}
			}
			character:Qorgyle_11 = {
				if = {
					limit = { is_alive  = yes }
					move_to_pool_at = character:Qorgyle_4.capital_province
					set_employer = character:Qorgyle_4
				}
			}
			character:Qorgyle_12 = {
				if = {
					limit = { is_alive  = yes }
					move_to_pool_at = character:Qorgyle_4.capital_province
					set_employer = character:Qorgyle_4
				}
			}
			character:Brook_19 = {
				if = {
					limit = { is_alive  = yes }
					move_to_pool_at = character:Qorgyle_4.capital_province
					set_employer = character:Qorgyle_4
				}
			}

			if = {
				limit = {
					OR = {
						game_start_date = 8282.9.15
						game_start_date = 8284.6.02
					}
				}

				if = { # Added to prevent homage at game start
					limit = { has_dlc_feature = royal_court }

					every_character_with_royal_court = {
						every_vassal = {
							set_variable = {
								name = pay_homage_grace
								value = liege
							}
						}
					}
				}
			}
			#Willam Dustin
			character:Dustin_1 = {
				if = {
					limit = {
						is_alive = no
					}

					set_dead_character_variable = {
						name = body_has_been_disposed
						value = yes
						years = 5
					}
				}
			}
			#Ethan Glover
			character:Glover_2 = {
				if = {
					limit = {
						is_alive = no
					}

					set_dead_character_variable = {
						name = body_has_been_disposed
						value = yes
						years = 5
					}
				}
			}
			#Martyn Cassel
			character:Cassel_2 = {
				if = {
					limit = {
						is_alive = no
					}

					set_dead_character_variable = {
						name = body_has_been_disposed
						value = yes
						years = 5
					}
				}
			}
			#Theo Wull
			character:Wull_4 = {
				if = {
					limit = {
						is_alive = no
					}

					set_dead_character_variable = {
						name = body_has_been_disposed
						value = yes
						years = 5
					}
				}
			}
			#Ser Mark Ryswell
			character:Ryswell_10 = {
				if = {
					limit = {
						is_alive = no
					}

					set_dead_character_variable = {
						name = body_has_been_disposed
						value = yes
						years = 5
					}
				}
			}
			#Arthur Dayne
			character:Dayne_5 = {
				if = {
					limit = {
						is_alive = no
					}

					set_dead_character_variable = {
						name = body_has_been_disposed
						value = yes
						years = 5
					}
				}
			}
			#Oswell Whent
			character:Whent_5 = {
				if = {
					limit = {
						is_alive = no
					}

					set_dead_character_variable = {
						name = body_has_been_disposed
						value = yes
						years = 5
					}
				}
			}
			#Gerold Hightower
			character:Hightower_3 = {
				if = {
					limit = {
						is_alive = no
					}

					set_dead_character_variable = {
						name = body_has_been_disposed
						value = yes
						years = 5
					}
				}
			}
			#Rhaegar
			character:Targaryen_3 = {
				if = {
					limit = {
						is_alive = no
					}

					set_dead_character_variable = {
						name = body_has_been_disposed
						value = yes
						years = 5
					}
				}
			}
			#Aerys
			character:Targaryen_1 = {
				if = {
					limit = {
						is_alive = no
					}

					set_dead_character_variable = {
						name = body_has_been_disposed
						value = yes
						years = 5
					}
				}
			}
			#Rhaella
			character:Targaryen_2 = {
				if = {
					limit = {
						is_alive = no
					}

					set_dead_character_variable = {
						name = body_has_been_disposed
						value = yes
						years = 5
					}
				}
			}

			#Lyanna
			character:Stark_5 = {
				if = {
					limit = {
						is_alive = no
					}

					set_dead_character_variable = {
						name = body_has_been_disposed
						value = yes
						years = 5
					}

				}
			}

			#Rickard
			character:Stark_2 = {
				if = {
					limit = {
						is_alive = no
					}

					set_dead_character_variable = {
						name = body_has_been_disposed
						value = yes
						years = 5
					}

				}
			}

			#Brandon
			character:Stark_1 = {
				if = {
					limit = {
						is_alive = no
					}

					set_dead_character_variable = {
						name = body_has_been_disposed
						value = yes
						years = 5
					}

				}
			}
		}

		### Run effects on dead characters
		agot_apply_posthistory_effect = yes
		### Mark all canon, semi-canon and mentioned characters
		agot_assign_canon_vars = yes
	}
}

agot_house_feuds = {
	effect = {
		### House feud setup
		# Bracken vs Blackwood
		every_ruler = {
			if = {
				limit = {
					dynasty = dynasty:dynn_Bracken
					has_title = title:d_southstone
				}
				save_scope_as = bracken
			}
		}
		every_ruler = {
			if = {
				limit = {
					dynasty = dynasty:dynn_Blackwood
					has_title = title:d_blackwood_vale
				}
				save_scope_as = blackwood
			}
		}
		scope:blackwood = {
			scope:bracken = { save_scope_as = rival }
			trigger_event = agot_events_generic.0003
		}
		scope:bracken = {
			scope:blackwood = { save_scope_as = rival }
			trigger_event = agot_events_generic.0003
		}

		# Yronwood vs Fowler
		every_ruler = {
			if = {
				limit = {
					dynasty = dynasty:dynn_Fowler
					has_title = title:d_the_princes_pass
				}
				save_scope_as = fowler
			}
		}
		every_ruler = {
			if = {
				limit = {
					dynasty = dynasty:dynn_Yronwood
					has_title = title:d_yronwood
				}
				save_scope_as = yronwood
			}
		}
		scope:yronwood = {
			scope:fowler = { save_scope_as = rival }
			trigger_event = agot_events_generic.0003
		}
		scope:fowler = {
			scope:yronwood = { save_scope_as = rival }
			trigger_event = agot_events_generic.0003
		}

		# Forrester vs Whitehill
		every_ruler = {
			if = {
				limit = {
					dynasty = dynasty:dynn_Forrester
					has_title = title:c_ironrath
				}
				save_scope_as = forrester
			}
		}
		every_ruler = {
			if = {
				limit = {
					dynasty = dynasty:dynn_Whitehill
					has_title = title:c_highpoint
				}
				save_scope_as = whitehill
			}
		}
		scope:whitehill = {
			scope:forrester = { save_scope_as = rival }
			trigger_event = agot_events_generic.0003
		}
		scope:forrester = {
			scope:whitehill = { save_scope_as = rival }
			trigger_event = agot_events_generic.0003
		}

		# Falwell vs Jast
		every_ruler = {
			if = {
				limit = {
					dynasty = dynasty:dynn_Falwell
					has_title = title:c_motley_hills
				}
				save_scope_as = falwell
			}
		}
		every_ruler = {
			if = {
				limit = {
					dynasty = dynasty:dynn_Jast
					has_title = title:c_lonmont
				}
				save_scope_as = jast
			}
		}
		scope:falwell = {
			scope:jast = { save_scope_as = rival }
			trigger_event = agot_events_generic.0003
		}
		scope:jast = {
			scope:falwell = { save_scope_as = rival }
			trigger_event = agot_events_generic.0003
		}

		# Manderly vs Peake
		every_ruler = {
			if = {
				limit = {
					dynasty = dynasty:dynn_Manderly
					has_title = title:d_white_harbor
				}
				save_scope_as = manderly
			}
		}
		every_ruler = {
			if = {
				limit = {
					dynasty = dynasty:dynn_Peake
					has_title = title:c_starpike
				}
				save_scope_as = peake
			}
		}
		scope:peake = {
			scope:manderly = { save_scope_as = rival }
			trigger_event = agot_events_generic.0003
		}
		scope:manderly = {
			scope:peake = { save_scope_as = rival }
			trigger_event = agot_events_generic.0003
		}
	}
}

agot_north_holding_cost = {
	effect = {
		every_county_in_region = {
			region = world_westeros_the_north
			add_county_modifier = agot_holding_build_speed_north
		}
		every_county_in_region = {
			region = world_westeros_beyond_the_wall
			add_county_modifier = agot_holding_build_speed_btw
		}
		every_county_in_region = {
			region = world_westeros_the_wall
			add_county_modifier = agot_holding_build_speed_north
		}
	}
}

agot_ruins = {
	effect = {
		every_ruler = {
			if = {
				limit = {
					has_trait = ruin
				}
				clear_traits = yes
				add_trait = ruin
				refund_all_perks = yes
				add_diplomacy_lifestyle_perk_points = -10
				add_stewardship_lifestyle_perk_points = -10
				add_martial_lifestyle_perk_points = -10
				add_learning_lifestyle_perk_points = -10
				add_intrigue_lifestyle_perk_points = -10
				add_trait = incapable
			}
		}
	}
}

agot_barony_ruins = {
	effect = {
		# Skane
		title:e_ruins = {
			set_coa = ruins_coa
		}
		title:k_ruins = {
			set_coa = ruins_coa
		}
		title:d_ruins = {
			set_coa = ruins_coa
		}
		title:c_ruins = {
			set_coa = ruins_coa
		}
		title:b_ruins = {
			set_coa = ruins_coa
		}
		title:b_ruins.title_province = {
			add_province_modifier = agot_ruin_disease_modifier
		}
		title:b_more_ruin = {
			set_coa = ruins_coa
		}
		title:b_more_ruin.title_province = {
			add_province_modifier = agot_ruin_disease_modifier
		}
		title:b_the_most_ruin = {
			set_coa = ruins_coa
		}
		title:b_the_most_ruin.title_province = {
			add_province_modifier = agot_ruin_disease_modifier
		}
		if = {
			limit = {
				game_start_date >= 4000.1.1
			}
			title:b_skane.title_province = {
				set_holding_type = ruin_holding
				add_building = small_ruin_01
				add_building = ruin_desolate_01
			}
			title:c_skane = {
				set_coa = ruins_coa
			}
		}
		# Skane
		if = {
			limit = {
				game_start_date >= 5100.1.1
			}
			title:b_woodfoot_watch.title_province = {
				set_holding_type = ruin_holding
				add_building = small_ruin_01
			}
			title:b_woodfoot_watch = {
				set_coa = ruins_coa
			}
		}
		# Hellgate Hall
		if = {
			limit = {
				game_start_date >= 7310.1.1
			}
			title:b_hellgate_hall.title_province = {
				set_holding_type = ruin_holding
				add_building = medium_ruin_01
				add_building = ruin_desolate_01
			}
			title:b_hellgate_hall = {
				set_coa = ruins_coa
			}
		}
		# Morne
		if = {
			limit = {
				game_start_date >= 4900.1.1
			}
			title:b_morne.title_province = {
				set_holding_type = ruin_holding
				add_building = medium_ruin_01
			}
			title:b_morne = {
				set_coa = ruins_coa
			}
		}
		# Castamere
		if = {
			limit = {
				game_start_date >= 8261.11.1
			}
			title:b_castamere.title_province = {
				set_holding_type = ruin_holding
				add_building = medium_ruin_01
				add_building = ruin_flooded_01
				add_building = ruin_infamous_01
			}
			title:b_castamere = {
				set_coa = ruins_coa
			}
		}
		# Oldstones
		if = {
			limit = {
				game_start_date >= 4650.1.1
			}
			title:b_oldstones.title_province = {
				set_holding_type = ruin_holding
				add_building = large_ruin_01
				add_building = ruin_renowned_01
			}
			title:b_oldstones = {
				set_coa = ruins_coa
			}
		}
		# Summerhall
		if = {
			limit = {
				game_start_date >= 8259.6.1
			}
			title:b_summerhall.title_province = {
				set_holding_type = ruin_holding
				add_building = large_ruin_01
				add_building = ruin_renowned_01
			}
			title:b_summerhall = {
				set_coa = ruins_coa
			}
		}
		# Hugor's Hill
		if = {
			limit = {
				game_start_date >= 4200.1.1
			}
			title:b_hugors_hill.title_province = {
				set_holding_type = ruin_holding
				add_building = large_ruin_01
				add_building = ruin_renowned_01
			}
			title:b_hugors_hill = {
				set_coa = ruins_coa

				create_character = {
					age = 20
					gender = male
					location = barony.title_province
					faith = county.faith
					culture = county.culture
					dynasty = none
					save_scope_as = ruin_holder
				}

				create_title_and_vassal_change = {
					type = granted
					save_scope_as = change
					add_claim_on_loss = no
				}
				barony = {
					change_title_holder = {
						holder = scope:ruin_holder
						change = scope:change
					}
					set_coa = ruins_coa
				}
				resolve_title_and_vassal_change = scope:change
				scope:ruin_holder = { change_government = ruins_government }
			}
		}
	}
}

agot_on_game_start_after_lobby = {
	effect = {
		##### General setup start #####
		### Night's Watch related setup
		title:d_the_wall = { clear_title_laws = yes }
		every_ruler = {
			if = { # Changes goverment to Nightwatch for Custom Characters
				limit = {
					AND = {
						has_title = title:k_the_wall
						is_from_ruler_designer = yes
					}
				}
				change_government = nights_watch_government
			}

			if = { # Adds Nightwatch trait for Custom Characters without it
				limit = {
					NOT = {
						has_trait = nightswatch
					}
					AND = {
						any_held_title = {
							tier = tier_county
							title_province = { geographical_region = world_westeros_the_wall }
						}
						is_from_ruler_designer = yes
					}
				}
				add_trait = nightswatch
			}

		}

		every_barony = {
			if = {
				limit = {
					exists = holder
					holder.primary_title.tier = tier_barony
					title_province = { has_holding_type = ruin_holding }
				}

				holder = {
					change_government = ruins_government
				}
			}
		}

		if = {
			limit = {
				exists = title:k_the_wall.holder
				# title:k_the_wall.holder = {
				# 	has_government = nights_watch_government
				# }
			}
			title:k_the_wall.holder = {
				trigger_event = agot_nightswatch_maintenance.0001 # Removes female courtiers
			}
		}

		if = {
			limit = {
				exists = title:b_the_citadel
			}
			title:k_the_wall.holder = {
				trigger_event = agot_citadel_maintenance.0001 # Removes female courtiers
			}
		}

		### House Customizer related setup
		if = {
			limit = {
				OR = {
					game_start_date = 8282.9.15 # Robert's Rebellion
					game_start_date = 8284.6.2 # Crowned Stag
					game_start_date = 8258.12.21 # NPK
					# AGOT Bookmarked Added
					game_start_date = 7998.1.2
					game_start_date = 8129.4.1
					game_start_date = 8195.3.7
					game_start_date = 8277.1.1
					game_start_date = 8298.12.21
					game_start_date = 8299.3.3
					game_start_date = 8300.3.1
				}
			}
			## House Customizer Renown Fix - YES I DID TRY ITS OWN ON_ACTION
			## NORTH ##
			create_character = {
				gender = male
				location = title:e_the_iron_throne.holder.capital_province
				faith = faith:the_seven_main
				culture = title:e_the_iron_throne.holder.culture
				dynasty_house = character:Amber_1.house
				save_scope_as = hc_amber
			}
			scope:hc_amber = { add_character_flag = house_customizer_placeholder }
			create_character = {
				gender = male
				location = title:e_the_iron_throne.holder.capital_province
				faith = faith:the_seven_main
				culture = title:e_the_iron_throne.holder.culture
				dynasty_house = character:Greenwood_1.house
				save_scope_as = hc_greenwood
			}
			scope:hc_greenwood = { add_character_flag = house_customizer_placeholder }
			create_character = {
				gender = male
				location = title:e_the_iron_throne.holder.capital_province
				faith = faith:the_seven_main
				culture = title:e_the_iron_throne.holder.culture
				dynasty_house = character:Frost_1.house
				save_scope_as = hc_frost
			}
			scope:hc_frost = { add_character_flag = house_customizer_placeholder }
			create_character = {
				gender = male
				location = title:e_the_iron_throne.holder.capital_province
				faith = faith:the_seven_main
				culture = title:e_the_iron_throne.holder.culture
				dynasty_house = character:Greystark_10.house
				save_scope_as = hc_greystark
			}
			scope:hc_greystark = { add_character_flag = house_customizer_placeholder }
			create_character = {
				gender = male
				location = title:e_the_iron_throne.holder.capital_province
				faith = faith:the_seven_main
				culture = title:e_the_iron_throne.holder.culture
				dynasty_house = character:Woodfoot_1.house
				save_scope_as = hc_woodfoot
			}
			scope:hc_woodfoot = { add_character_flag = house_customizer_placeholder }
			## TRIDENT ##
			create_character = {
				gender = male
				location = title:e_the_iron_throne.holder.capital_province
				faith = faith:the_seven_main
				culture = title:e_the_iron_throne.holder.culture
				dynasty_house = character:Fisher_riverlands_duplicate_8.house
				save_scope_as = hc_fisher_trident
			}
			scope:hc_fisher_trident = { add_character_flag = house_customizer_placeholder }
			create_character = {
				gender = male
				location = title:e_the_iron_throne.holder.capital_province
				faith = faith:the_seven_main
				culture = title:e_the_iron_throne.holder.culture
				dynasty_house = character:Harroway_8.house
				save_scope_as = hc_harroway
			}
			scope:hc_harroway = { add_character_flag = house_customizer_placeholder }
			create_character = {
				gender = male
				location = title:e_the_iron_throne.holder.capital_province
				faith = faith:the_seven_main
				culture = title:e_the_iron_throne.holder.culture
				dynasty_house = character:Justman_8.house
				save_scope_as = hc_justman
			}
			scope:hc_justman = { add_character_flag = house_customizer_placeholder }
			create_character = {
				gender = male
				location = title:e_the_iron_throne.holder.capital_province
				faith = faith:the_seven_main
				culture = title:e_the_iron_throne.holder.culture
				dynasty_house = character:Qoherys_4.house
				save_scope_as = hc_qoherys
			}
			scope:hc_qoherys = { add_character_flag = house_customizer_placeholder }
			create_character = {
				gender = male
				location = title:e_the_iron_throne.holder.capital_province
				faith = faith:the_seven_main
				culture = title:e_the_iron_throne.holder.culture
				dynasty_house = character:Teague_6.house
				save_scope_as = hc_teague
			}
			scope:hc_teague = { add_character_flag = house_customizer_placeholder }
			create_character = {
				gender = male
				location = title:e_the_iron_throne.holder.capital_province
				faith = faith:the_seven_main
				culture = title:e_the_iron_throne.holder.culture
				dynasty_house = character:Towers_6.house
				save_scope_as = hc_towers
			}
			scope:hc_towers = { add_character_flag = house_customizer_placeholder }
			## VALE ##
			create_character = {
				gender = male
				location = title:e_the_iron_throne.holder.capital_province
				faith = faith:the_seven_main
				culture = title:e_the_iron_throne.holder.culture
				dynasty_house = character:Shell_Vale_1.house
				save_scope_as = hc_shell_vale
			}
			scope:hc_shell_vale = { add_character_flag = house_customizer_placeholder }
			create_character = {
				gender = male
				location = title:e_the_iron_throne.holder.capital_province
				faith = faith:the_seven_main
				culture = title:e_the_iron_throne.holder.culture
				dynasty_house = character:Brightstone_1.house
				save_scope_as = hc_brightstone
			}
			scope:hc_brightstone = { add_character_flag = house_customizer_placeholder }
			## Crownlands ##
			if = {
				limit = {
					game_start_date >= 8170.1.1 # Daemon Blackfyre's Birth
					character:Targaryen_94.house = { # Blackfyres
						any_house_member = {
							count <= 0
						}
					}
				}
				create_character = {
					gender = male
					location = title:e_the_iron_throne.holder.capital_province
					faith = faith:the_seven_main
					culture = title:e_the_iron_throne.holder.culture
					dynasty_house = character:Blackfyre_14.house
					save_scope_as = hc_blackfyre
				}
				scope:hc_blackfyre = { add_character_flag = house_customizer_placeholder }
			}
			create_character = {
				gender = male
				location = title:e_the_iron_throne.holder.capital_province
				faith = faith:the_seven_main
				culture = title:e_the_iron_throne.holder.culture
				dynasty_house = character:Darklyn_47.house
				save_scope_as = hc_darklyn
			}
			scope:hc_darklyn = { add_character_flag = house_customizer_placeholder }
			## STORMLANDS ##
			create_character = {
				gender = male
				location = title:e_the_iron_throne.holder.capital_province
				faith = faith:the_seven_main
				culture = title:e_the_iron_throne.holder.culture
				dynasty_house = character:Durrandon_87.house
				save_scope_as = hc_durrandon
			}
			scope:hc_durrandon = { add_character_flag = house_customizer_placeholder }
			## DORNE ##
			create_character = {
				gender = male
				location = title:e_the_iron_throne.holder.capital_province
				faith = faith:the_seven_main
				culture = title:e_the_iron_throne.holder.culture
				dynasty_house = character:Dryland_1.house
				save_scope_as = hc_dryland
			}
			scope:hc_dryland = { add_character_flag = house_customizer_placeholder }
			## REACH ##
			create_character = {
				gender = male
				location = title:e_the_iron_throne.holder.capital_province
				faith = faith:the_seven_main
				culture = title:e_the_iron_throne.holder.culture
				dynasty_house = character:Gardener_95.house
				save_scope_as = hc_gardener
			}
			scope:hc_gardener = { add_character_flag = house_customizer_placeholder }
			## WESTERLANDS ##
			create_character = {
				gender = male
				location = title:e_the_iron_throne.holder.capital_province
				faith = faith:the_seven_main
				culture = title:e_the_iron_throne.holder.culture
				dynasty_house = character:Casterly_7.house
				save_scope_as = hc_casterly
			}
			scope:hc_casterly = { add_character_flag = house_customizer_placeholder }
			create_character = {
				gender = male
				location = title:e_the_iron_throne.holder.capital_province
				faith = faith:the_seven_main
				culture = title:e_the_iron_throne.holder.culture
				dynasty_house = character:Parren_17.house
				save_scope_as = hc_parren
			}
			scope:hc_parren = { add_character_flag = house_customizer_placeholder }
			create_character = {
				gender = male
				location = title:e_the_iron_throne.holder.capital_province
				faith = faith:the_seven_main
				culture = title:e_the_iron_throne.holder.culture
				dynasty_house = character:Reyne_45.house
				save_scope_as = hc_reyne
			}
			scope:hc_reyne = { add_character_flag = house_customizer_placeholder }
			## IRON ISLANDS (EUGH) ##
			create_character = {
				gender = male
				location = title:e_the_iron_throne.holder.capital_province
				faith = faith:the_seven_main
				culture = title:e_the_iron_throne.holder.culture
				dynasty_house = character:Greyiron_32.house
				save_scope_as = hc_greyiron
			}
			scope:hc_greyiron = { add_character_flag = house_customizer_placeholder }
			create_character = {
				gender = male
				location = title:e_the_iron_throne.holder.capital_province
				faith = faith:the_seven_main
				culture = title:e_the_iron_throne.holder.culture
				dynasty_house = character:Hoare_31.house
				save_scope_as = hc_hoare
			}
			scope:hc_hoare = { add_character_flag = house_customizer_placeholder }
			## OLD VALYRIAN FAMILIES ##
			create_character = {
				gender = male
				location = title:e_the_iron_throne.holder.capital_province
				faith = faith:the_seven_main
				culture = title:e_the_iron_throne.holder.culture
				dynasty_house = character:Varezys_1.house
				save_scope_as = hc_varezys
			}
			scope:hc_varezys = { add_character_flag = house_customizer_placeholder }
			create_character = {
				gender = male
				location = title:e_the_iron_throne.holder.capital_province
				faith = faith:the_seven_main
				culture = title:e_the_iron_throne.holder.culture
				dynasty_house = character:Mataeryon_1.house
				save_scope_as = hc_mataeryon
			}
			scope:hc_mataeryon = { add_character_flag = house_customizer_placeholder }
			create_character = {
				gender = male
				location = title:e_the_iron_throne.holder.capital_province
				faith = faith:the_seven_main
				culture = title:e_the_iron_throne.holder.culture
				dynasty_house = character:Belaerys_1.house
				save_scope_as = hc_belaerys
			}
			scope:hc_belaerys = { add_character_flag = house_customizer_placeholder }
		}
		every_player = {
			if = {
				limit = {
					has_trait = house_customizer
				}
				trigger_event = {
					id = agot_house_customizer.0001
				}
			}
			# RP Events
			if = {
				limit = {
					NOT = { has_trait = house_customizer }
					any_held_title = {
						tier = tier_county
						title_province = { geographical_region = world_westeros_beyond_the_wall }
					}
					is_from_ruler_designer = yes
				}
				trigger_event = agot_rp_event.0019 # Wilding RP Events
				add_character_flag = from_wilding_category
			}
			else_if = {
				limit = {
					NOT = { has_trait = house_customizer }
					is_from_ruler_designer = yes
					agot_is_independent_ruler = no
				}
				trigger_event = agot_rp_event.0001 # Westeros and Other Places
			}
			else_if = {
				limit = {
					NOT = { has_trait = house_customizer }
					is_from_ruler_designer = yes
				}
				trigger_event = agot_rp_event.0105 # Custom Strong Seed Menu
			}
			agot_clear_patron = yes
		}

		if = { # If NO player has house_customizer, we will kill these extinct house members used to skirt around the renown bug.
			limit = {
				any_player = {
					NOT = { has_trait = house_customizer }
				}
			}
			trigger_event = agot_house_customizer.0024
		}
		else = { # We fire this active the extinct house purger
			trigger_event = {
				id = agot_house_customizer.0024
				days = 1
			}
		}

		every_ruler = {
			if = {
				limit = { has_character_flag = bookmark_independent }

				trigger_event = agot_events_generic.0006
			}
		}
		##### Basic setup end #####


		##### Scenario setup start #####
		agot_historical_artifacts_setup = yes

		if = {
			limit = {
				NOR = {
					has_game_rule = agot_shatter_duchies
					has_game_rule = agot_shatter_duchies_even
					has_game_rule = agot_shatter_petty_kingdoms
					has_game_rule = agot_shatter_kingdoms
					has_game_rule = agot_shatter_empires
				}
			}
			# AGOT Bookmarked Added
			if = { # manage 7998.1.2 Aegon's Conquest scenario
				limit = { game_start_date = 7998.1.2 }

				agot_7998_1_1_conquest_scenario_setup = yes
			}

			if = { # manage 8195.3.7 1st Blackfyre Rebellion scenario
				limit = { game_start_date = 8195.3.7 }

				agot_8195_3_7_br_i_scenario_setup = yes
			}
			if = { # manage 8258.12.21 Ninepenny Kings scenario
				limit = { game_start_date = 8258.12.21 }

				agot_8259_11_1_ninepenny_setup = yes
			}
			if = { # manage 8282.9.15 Robert's Rebellion scenario
				limit = { game_start_date = 8282.9.15 }

				agot_8282_9_15_rr_scenario_setup = yes
			}
			if = { # manage 8284.6.2 Crowned Stag scenario
				limit = { game_start_date = 8284.6.2 }

				agot_8284_6_2_scenario_setup = yes
			}
			if = { # manage 8298.12.21 War of the Five Kings scenario
				limit = { game_start_date = 8298.12.21 }

				agot_8298_12_21_wotfk_scenario_setup = yes
			}
			if = { # manage 8299.3.3 A Clash of Kings scenario
				limit = { game_start_date = 8299.3.3 }

				agot_8299_3_3_acok_scenario_setup = yes
			}
			if = { # manage 8129.4.1 The Dance of Dragons scenario
				limit = { game_start_date = 8129.4.1 }

				agot_8129_4_1_dotd_scenario_setup = yes
				# AGOT Bookmarked Disabled
				# character:Targaryen_76  = {
					# agot_create_artifact_lucerys_gun_effect  = { OWNER = this }
					# scope:newly_created_artifact = {
						# equip_artifact_to_owner_replace = yes
					# }
				# }
			}
		}

		every_player = { # Send exposition events
			limit = {
				#is_valid_exposition_event_receiver = yes
				always = no # AGOT TODO disabled cause I don't know
			}
			if = {
				limit = {
					#is_valid_story_event_receiver = yes
					always = yes
				}

				# Exposition events for houses

				switch = {
					trigger = dynasty

					dynasty:dynn_Arryn = { trigger_event = agot_exposition_events.0001 }
					dynasty:dynn_Baratheon = { trigger_event = agot_exposition_events.0002 }
					dynasty:dynn_Greyjoy = { trigger_event = agot_exposition_events.0003 }
					dynasty:dynn_Lannister = { trigger_event = agot_exposition_events.0004 }
					dynasty:dynn_Martell = { trigger_event = agot_exposition_events.0005 }
					dynasty:dynn_Stark = { trigger_event = agot_exposition_events.0006 }
					dynasty:dynn_Targaryen = { trigger_event = agot_exposition_events.0007 }
					dynasty:dynn_Tully = { trigger_event = agot_exposition_events.0008 }
					dynasty:dynn_Tyrell = { trigger_event = agot_exposition_events.0009 }
					dynasty:dynn_Hightower = { trigger_event = agot_exposition_events.0010 }
					dynasty:dynn_Glover = { trigger_event = agot_exposition_events.0011 }
					dynasty:dynn_Reed = { trigger_event = agot_exposition_events.0012 }
				}
			}
		}
		##### Scenario setup end #####

		##### Global events setup flag setup ####
		## Iron Throne Succession ##
		every_player = {
			limit = {
				exists = title:e_the_iron_throne.holder
				NOT = {
					has_title = title:e_the_iron_throne
				}
				OR = {
					any_held_title = {
						tier = tier_county
						title_province = {
							geographical_region = world_westeros
							NOT = {
								geographical_region = world_westeros_beyond_the_wall
							}
						}
					}
					top_liege = {
						has_title = title:e_the_iron_throne
					}
				}
			}
			add_character_flag = inform_ironthrone_succession
		}
		## Night's Watch elections ##
		every_player = {
			limit = {
				exists = title:k_the_wall.holder
				OR = {
					#Is it relevant geographically for the player?
					has_title = title:e_the_iron_throne
					has_title = title:e_the_north
					has_title = title:k_the_north
					any_held_title = {
						tier = tier_county
						title_province = { geographical_region = world_westeros_the_north }
					}
				}
			}
			add_character_flag = inform_nw_succession
		}
		## Override blockade for firing canon councillors 
		every_ruler = {
			limit = { is_ai = yes }
			every_councillor = { 
				limit = { has_character_flag = canon_councillor }
				block_firing_councillor_effect = { COURT_OWNER = PREV }
				remove_character_flag = canon_councillor
			}
		}
	}
	events = {
		agot_house_maintenance.0001
		agot_adventurers_events.0001
		# agot_nightswatch_maintenance.0001 # Removes female courtiers
	}
}

agot_artifacts_sell = {
	effect = {
		agot_get_artifact_keeper = yes
	}
}
